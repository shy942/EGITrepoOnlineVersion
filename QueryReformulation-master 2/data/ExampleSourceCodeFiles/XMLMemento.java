/Users/user/eclipse.platform.ui/bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/XMLMemento.java
org eclipse java exception java print writer java reader java string writer java writer java util array list javax xml parsers document builder javax xml parsers document builder factory javax xml parsers parser configuration exception org eclipse internal workbench messages org eclipse internal workbench plugin org dom attr org dom exception org dom document org dom element org dom named node map org dom node org dom node list org dom text org xml sax error handler org xml sax input source org xml sax exception org xml sax parse exception this represents implementation code memento code this intended extended clients memento memento memento document factory element element creates code document code code reader code returns memento code element code reading document same calling create read root reader null param reader code reader code create memento document memento code element code reading document workbench exception problems invalid format element memento create read root reader reader workbench exception create read root reader null creates code document code code reader code returns memento code element code reading document param reader code reader code create memento document param base dir directory resolve relative file names document this directory exist include trailing separator directory format including separators valid platform can code null code needed memento code element code reading document workbench exception problems invalid format element memento create read root reader reader string base dir workbench exception string error message null exception exception null document builder factory factory document builder factory instance document builder parser factory document builder input source source input source reader base dir null source set system base dir parser set error handler error handler exception override warning parse exception exception exception ignore exception override error parse exception exception exception ignore override fatal error parse exception exception exception exception document document parser parse source node list list document child nodes list length node node list item node element memento document element node parser configuration exception exception error message workbench messages memento parser config error exception exception error message workbench messages memento error exception exception error message workbench messages memento format error string problem text null exception null problem text exception message problem text null problem text length problem text error message null error message workbench messages memento element workbench exception problem text exception returns root memento writing document param type element node type create document root memento writing document exception memento create write root string type exception document document document document builder factory instance document builder document element element document create element type document append child element memento document element parser configuration exception error message creates memento document element clients code create read root code code create write root code create initial memento document param document document memento param element element node memento memento document document element element factory document element element creates child memento type code child code code children code methods retrieve children type param type type child memento child children exception child created override memento create child string type exception element child factory create element type element append child child memento factory child creates child memento type stored child memento special reserved key code code retrieved code code code child code code children code methods retrieve children type param type type param child child memento type exception child created override memento create child string type string exception element child factory create element type child set attribute null element append child child memento factory child create copy child node append node param child menento child node exception child created memento copy child memento child exception element child element memento child element element element element factory node child element true element append child element memento factory element override memento child string type get nodes node list nodes element child nodes size nodes length size null find node child node size node node nodes item node element element element element node element node name equals type memento factory element child null override memento children get nodes node list nodes element child nodes size nodes length size memento extract node type array list list array list size size node node nodes item node element list add node create memento node size list size memento memento size size memento factory element list override memento children string type get nodes node list nodes element child nodes size nodes length size memento extract node type array list list array list size size node node nodes item node element element element element node element node name equals type list add element create memento node size list size memento memento size size memento factory element list override float float string key attr attr element attribute node key attr null null string str value attr value float str value number format exception workbench plugin log memento problem invalid key key str value null override string type element node name override string element attribute override integer integer string key attr attr element attribute node key attr null null string str value attr value integer str value number format exception workbench plugin log memento problem invalid integer key key str value null override string string string key attr attr element attribute node key attr null null attr value override boolean boolean string key attr attr element attribute node key attr null null boolean attr value returns data text node memento each memento allowed text node data text node memento code null code memento text node exception text node big override string text data exception text text node text node text node null text node data null override string attribute keys named node map map element attributes size map length string attributes string size size node node map item attributes node node name attributes returns text node memento each memento allowed text node text node memento code null code memento text node text text node get nodes node list nodes element child nodes size nodes length size null size node node nodes item node text text node text node null places element attributes document param copy text true text node copied exception attributes children copied node element element element copy text exception named node map node map element attributes size node map length size attr attr attr node map item string attr name attr value node list nodes element child nodes size nodes length copy text node fixes bug note text data child text data copy text copy text size node node nodes item node element memento child memento create child node node name child element element node true node text copy text text data text node data copy text false sets key floating point number param key key param exception attribute set override float string key exception element set attribute key string sets key integer param key key param exception attribute set override integer string key exception element set attribute key string copy attributes children code memento code receiver param memento memento copied exception attributes children copied node override memento memento memento exception copy element top level text node overwrite existing text text nodes children copied element memento memento element false sets key string param key key param exception attribute set override string string key string exception null element set attribute key sets key param key key param exception attribute set override boolean string key exception element set attribute key true false sets memento text node data creates text node exists text node exist current contents replaced each memento allowed text node param data data text node exception text node created node override text data string data exception text text node text node text node null text node factory create text node data always add text node child fixes bug element insert before text node element first child text node set data data saves memento document current values writer param writer writer save memento document exception problem serializing document stream save writer writer exception writer writer writer print element close override string string string writer writer string writer save writer writer string exception string simple writer using javax xml transform classes compilation foundation bug writer print writer constants string xml version encoding creates writer output writer param output output writer writer writer output output println prints element param element element print print element element ensure extra whitespace emitted text node result situation restored text data saved text data children element child nodes start tag element children children prev was text false node list children element child nodes children length node node children item node element prev was text println print element children item prev was text false node text print escaped node node value prev was text true prev was text println tag element start tag element element children string buffer string buffer append append element tag name named node map attributes element attributes attributes length attr attribute attr attributes item append append attribute name append append escaped string attribute value append append children print string tag element element string buffer string buffer append append element node name append print string append escaped char string buffer buffer string replacement replacement replacement null buffer append buffer append replacement buffer append buffer append string escaped string string buffer result string buffer length length append escaped char result result string string replacement fixes bug quot apos amp null
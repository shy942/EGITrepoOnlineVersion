/Users/user/eclipse.platform.ui/bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/ObjectContributorManager.java
org eclipse internal java util array list java util arrays java util collection java util collections java util hash map java util hash set java util hashtable java util iterator java util list java util map java util set org eclipse core runtime adapters org eclipse core runtime adaptable org eclipse core runtime adapter manager org eclipse core runtime configuration element org eclipse core runtime extension org eclipse core runtime extension point org eclipse core runtime platform org eclipse core runtime dynamichelpers extension tracker org eclipse core runtime dynamichelpers extension change handler org eclipse core runtime dynamichelpers extension tracker org eclipse jface viewers structured selection org eclipse platform this implementation code object contributor manager code fast merging contributions semantics all matching contributors invoked property lookup search order definition code code target superclasses order code object code depth traversal target interaces order returned code interfaces code superinterfaces superinterfaces object contributor object contributor manager extension change handler contributor record param contributor param target type contributor record object contributor contributor string target type contributor contributor object class name target type string object class name object contributor contributor table contributors map contributors cache object contributor search paths code null code map object lookup cache resource adapter contributor search paths code null code map resource adapter lookup cache adaptable contributor search paths code null code map adaptable lookup set contributor record set constructs contributor manager object contributor manager contributors hashtable contributor record set hash set object lookup null resource adapter lookup null adaptable lookup null string extension point extension point filter extension point null extension point extension point platform extension registry extension point platform extension point extension tracker tracker platform workbench extension tracker tracker register handler extension tracker create extension point filter extension point return extension point local org eclipse manager default implementation returns null implies relationship extension extension point string extension point filter null adds contributors types result list add contributors for list types list result iterator classes types iterator classes next class clazz class classes list contributor list list contributors clazz name contributor list null result add all contributor list returns search order starting code extensible class code search order defined comment list compute class order class extensible class array list result array list class clazz extensible class clazz null result add clazz clazz clazz superclass result returns search order hierarchy code list code search order defined comment list compute interface order list list array list result array list map hash map iterator list list iterator list next class interfaces class list interfaces internal compute interface order interfaces result result flushes cache contributor search paths this generally required contributor removed easier toss cache smart remove entries flush lookup object lookup null resource adapter lookup null adaptable lookup null cache real adapter contributor search path cache resource adapter lookup class adapter class list resource adapter lookup null resource adapter lookup hash map resource adapter lookup adapter class cache real adapter contributor search path cache adaptable lookup string adapter class list adaptable lookup null adaptable lookup hash map adaptable lookup adapter class cache object contributor search path cache object lookup class object class list object lookup null object lookup hash map object lookup object class get contributions registered manager unmodifiable code collection code registered contributions objects code collection code code list code actual contributions collection contributors collections unmodifiable collection contributors values return list contributors supplied list add contributors for class object class list list compute class order object class list result array list add contributors for list result interfaces list compute interface order list add contributors for list result result returns true contributors exist manager object classes interfaces adapters param object object test object contributors contributors for object object list contributors contributors object contributors size add class objects result list based hierarchy interfaces searched based position result list internal compute interface order class interfaces list result map list interfaces array list size interfaces length class interfac interfaces interfac null result add interfac interfac interfac interfaces add interfac iterator list interfaces iterator list next internal compute interface order class list interfaces result return contributor applicable elements selection param selection selection param contributor contributor applicable applicable structured selection selection object contributor contributor iterator elements selection iterator elements next contributor applicable elements false false true return contributor applicable elements list param list selection param contributor contributor applicable applicable list list object contributor contributor iterator elements list iterator elements next contributor applicable elements false false true register contributor param contributor contributor param target type target type register contributor object contributor contributor string target type list contributor list list contributors target type contributor list null contributor list array list contributors target type contributor list contributor list add contributor flush lookup configuration element element adapters adapt contributor configuration element hook object listener element null contributor record contributor record contributor record contributor target type contributor record set add contributor record platform workbench extension tracker register object element declaring extension contributor record extension tracker unregister contributors unregister all contributors contributors hashtable flush lookup unregister contributor target type param contributor contributor param target type target type unregister contributor object contributor contributor string target type list contributor list list contributors target type contributor list null contributor list remove contributor contributor list empty contributors remove target type flush lookup unregister contributors target type param target type target type unregister contributors string target type contributors remove target type flush lookup list contributors object object determine object resource object resource legacy resource support adapted contributor resource object fetch unique adapters list adapters array list arrays list platform adapter manager compute adapter types object class remove common adapters adapters arrays list class object class list contributors array list calculate contributors object add all contributors object contributors object class calculate contributors resource classes resource null add all contributors resource contributors resource class calculate contributors adapter type adapters null iterator adapters iterator next string adapter string add all contributors adaptable contributors adapter remove duplicates note maintain element order preserve menu order contributors remove dups contributors contributors empty collections array list contributors returns contributions this considers contributors classes interfaces param object class search contributions contributions this considers contributors classes interfaces list object contributors class object class list object list null lookup cache object lookup null object list list object lookup object class object list null object list add contributors for object class object list size object list collections object list collections unmodifiable list object list cache object lookup object class object list object list returns contributions code resource code this considers contributors classes interfaces this contributions adaptable param resource class search contributions contributions this considers adaptable contributors classes interfaces list resource contributors class resource class list resource list null resource adapter lookup null resource list list resource adapter lookup resource class resource list null resource list add contributors for resource class resource list size resource list collections resource list collections unmodifiable list filter only adaptable contributors resource list cache resource adapter lookup resource class resource list resource list returns contributions type param adapter type search contributions contributions this considers contributors specific type list adaptable contributors string adapter type list adaptable list null adapter contributions adaptable lookup null adaptable list list adaptable lookup adapter type adaptable list null contributor resource adapter legacy resource support resource type adapter type legacy resource support resource mapping type adapter type adaptable list collections adaptable list list contributors adapter type adaptable list null adaptable list size adaptable list collections adaptable list collections unmodifiable list filter only adaptable contributors adaptable list cache adaptable lookup adapter type adaptable list adaptable list prunes list adapters type names search order code code param adapters param remove common adapters list adapters list iterator iterator next class clazz class list common types compute combined order clazz iterator common types iterator next class type class adapters remove type name returns search order starting code extensible class code search order defined comment list compute combined order class input class list result array list class clazz input class clazz null add result add clazz add interfaces class interfaces clazz interfaces interfaces length result add interfaces superclass clazz clazz superclass result list filter only adaptable contributors list contributors list adaptable contributors null iterator contributors iterator next object contributor object contributor adapt adaptable contributors null adaptable contributors array list adaptable contributors add adaptable contributors null collections adaptable contributors override remove extension extension source object objects objects length objects contributor record contributor record contributor record contributor record objects unregister contributor contributor record contributor contributor record object class name contributor record set remove contributor record remove listeners dispose manager dispose extension point filter null platform workbench extension tracker unregister handler returns list contributors interested list model elements param elements list model elements code object code list interested contributors code object contributor code list contributors list elements calculate common interfaces adapters registered adapter manager list common adapters array list list common classes common classes elements common adapters get resource null elements resources adapt resource class resource class common resource class elements class resource mapping class resource mapping class elements get contributors list contributors array list add resource contributions avoid duplication resource class null add all contributors resource contributors resource class common classes null common classes empty common classes size list object contributors class common classes add all contributors add resource mappings explicitly avoid duplication resource mapping class null still menus object adaptable adapter manager entry resource mapping class legacy resource support resource mapping class resource mapping class null common adapters resource mapping class name add all contributors resource contributors resource mapping class contributors add all resource contributors resource mapping class common adapters empty iterator common adapters iterator next string adapter string add all contributors adaptable contributors adapter remove duplicates note maintain element order preserve menu order contributors remove dups contributors contributors empty collections array list contributors adds items add collection optimized avoid creating iterator this assumes add efficient array list random access list add all collection collection list add size add size size collection add add removes duplicates list preserving order list remove dups list list list size list hash set set hash set list set size list size list array list result array list set size iterator list iterator next object set remove result add result returns common denominator interfaces adapters collection objects list common classes list objects list common adapters objects null objects size null see bug details same class objects class clazz objects class common adapters add all arrays list platform adapter manager compute adapter types clazz list result array list result add clazz result compute classes interfaces adapters element list classes compute class order objects class list adapters compute adapter order classes list interfaces compute interface order classes cache types selection needed compute common adapters list common types array list classes empty classes empty interfaces empty interfaces empty traverse selection element selected objects size compute classes current element list classes compute class order objects class classes empty classes empty extract common classes classes classes compute interfaces current element classes list interfaces compute interface order classes interfaces empty interfaces empty extract common classes interfaces interfaces compute adapters calculated classes interfaces element list classes and interfaces array list classes interfaces null classes and interfaces add all interfaces list adapters compute adapter order classes and interfaces adapters match classes types classes interfaces adapters empty adapters empty remove non common adapters adapters classes and interfaces adapters empty remove non common adapters adapters common types adapters empty adapters add all adapters current element adapter list iterator adapters iterator next string adapter string adapters adapter remove remember common search order match adapters common classes interfaces common types clear common types add all classes common types add all interfaces interfaces empty classes empty adapters empty detect common exit null once common classes interfaces adapters calculated prune lists remove duplicates array list array list array list classes array list classes empty classes size classes null classes add classes just classes empty add classes interfaces empty remove common interfaces classes interfaces remove adapters included common classes adapters empty remove common adapters adapters common adapters add all adapters returns code true code objects list code false code same class list objects size objects size size true class clazz objects class size objects class equals clazz false true extract common classes list classes list classes classes empty true classes empty when classes obvious common classes element clear list classes clear current element classes list classes size classes null set item nulled classes empty false classes classes classes set null classes empty remove non common adapters list adapters list classes classes size object classes null class clazz class string clazz name adapters adapters clear remove common interfaces list classes list types list list drop interfaces null classes empty drop interfaces compute interface order classes types size types null drop interfaces null drop interfaces types add types list compute adapter order list list set result hash set adapter manager adapter mgr platform adapter manager iterator list list iterator list next class clazz class list string adapters adapter mgr compute adapter types clazz adapters length string adapter adapters result adapter result add adapter array list result returns common denominator resource collection objects resource objects resources prevent registration actions class common resource class list objects objects null objects size null class resource class legacy resource support resource class resource class null resources plug loaded resources period null list test list array list objects size objects size object object objects object adaptable resource class instance object object resource legacy resource support adapted contributor resource object resource null not resource adapt common resource null test list add resource null common class test list return resource mapping elements adapt class resource mapping class list objects objects null objects size null class resource mapping class legacy resource support resource mapping class resource mapping class null resources plug loaded resources period null objects size object object objects object adaptable resource mapping class instance object object resource mapping legacy resource support adapted contributor resource mapping object resource mapping null not resource adapt common resource null null objects adapt resource mapping resource mapping class returns common denominator collection objects class common class list objects objects null objects size null class common class objects class easy objects size common class harder objects size object object objects class class object class cut class equals common class compute common common class common class common class class common class null null common class returns common denominator input classes class common class class class list list compute combined order list list compute combined order list size list size class candidate class list class candidate class list candidate equals candidate candidate common null
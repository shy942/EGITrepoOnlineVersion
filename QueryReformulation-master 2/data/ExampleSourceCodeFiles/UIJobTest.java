/Users/user/eclipse.platform.ui/tests/org.eclipse.ui.tests/Eclipse UI Tests/org/eclipse/ui/tests/api/UIJobTest.java
org eclipse tests api junit framework assert org eclipse core runtime progress monitor org eclipse core runtime status org eclipse core runtime status org eclipse core runtime jobs job org eclipse swt widgets display org eclipse workbench page org eclipse workbench window org eclipse progress job org eclipse tests harness util test case job test test case workbench window window workbench page page constructor editor part test job test string test name test name override set exception set window open test window page window active page job finished false background thread started false background thread interrupted false background thread finished before job false background thread finished false job finished before background thread false test ensure calling join job block calling thread job finished exception test join exception job finished false background thread started false background thread finished false background thread interrupted false job finished before background thread false job test job job blah blah blah override status thread progress monitor monitor background thread finished before job background thread finished job finished true status test job set priority job background thread schedule join job lock intentionally blocking thread preventing running thread test thread thread override test job schedule background thread started true test job join job finished before background thread job finished background thread finished true interrupted exception background thread interrupted true this job bogus priority job simple sleep xxxx order ensure don wake test job scheduled job delay job job blah override status progress monitor monitor status delay job set priority job schedule test thread test thread start measure current time current time system current time millis create situation method job called exited thread method called sleep making high probability background thread wake blocking note test pass problem background thread failed wake reasons join creates high probability failing wrong point join block thread making impossible sync execs joining priority job job scheduled meaning method called fact thread job thread method shouldn called block thread job method called delay job schedule delay job join time system current time millis ensure slept assert true sleep thread woke early time current time assert true background thread start possibility testing behavior correct this test failure unable test background thread started assert false job completion thread blocked job finished assert false background job managed completion joined thread hasn finished background thread finished assert false background thread interrupted background thread interrupted now event loop give async exec chance use display shell display display window shell display deadlocked job finished background thread finished waited test job wrong time system current time millis display read and dispatch display sleep now event queue empty check assert true background thread finish deadlock background thread finished assert true test job finish deadlock job finished assert false background thread interrupted background thread interrupted assert false background thread finished job background thread supposed waiting job background thread finished before job this point test ensure background job waited job completion assert false background thread finished job background thread supposed waiting job background thread finished before job paranoia check test confirms threads agreed answer assert true background thread finished job background thread supposed waiting job job finished before background thread
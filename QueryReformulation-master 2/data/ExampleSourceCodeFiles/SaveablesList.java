/Users/user/eclipse.platform.ui/bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/SaveablesList.java
org eclipse internal java util array list java util hash map java util hash set java util iterator java util list java util map java util map entry java util set org eclipse core runtime assert org eclipse core runtime assertion failed exception org eclipse core runtime progress monitor org eclipse core runtime status org eclipse core runtime listener list org eclipse core runtime sub monitor org eclipse jface dialogs dialog constants org eclipse jface dialogs message dialog org eclipse jface dialogs message dialog with toggle org eclipse jface operation runnable context org eclipse jface operation runnable with progress org eclipse jface preference preference store org eclipse jface viewers array content provider org eclipse jface viewers label provider org eclipse jface viewers structured content provider org eclipse jface window shell provider org eclipse osgi util org eclipse swt org eclipse swt events selection adapter org eclipse swt events selection event org eclipse swt layout grid data org eclipse swt layout grid layout org eclipse swt widgets button org eclipse swt widgets composite org eclipse swt widgets control org eclipse swt widgets label org eclipse swt widgets shell org eclipse saveable part org eclipse saveable part org eclipse saveables lifecycle listener org eclipse saveables source org eclipse workbench part org eclipse workbench preference constants org eclipse workbench window org eclipse platform org eclipse saveable org eclipse saveables lifecycle event org eclipse dialogs list selection dialog org eclipse internal dialogs event loop progress monitor org eclipse internal misc status util org eclipse internal util pref util org eclipse model workbench part label provider model manager maintains list open saveable models saveable saveables source saveables list saveables lifecycle listener listener list listeners listener list event source saveables source set saveable map object set saveable model map hash map reference counting map map saveable integer model ref counts hash map set saveables source part sources hash set returns list open models managed model manager list models saveable open models set saveable distinct models hash set iterator set saveable saveables model map values iterator saveables next distinct models add all saveables distinct models array saveable distinct models size returns true model models add model object source saveable model model null log warning ignored attempt add invalid saveable source model false result false set saveable models for source model map source models for source null models for source hash set model map source models for source models for source add model result increment ref count model ref counts model log warning ignored attempt add saveable registered source model result returns true key time param reference map param key true count key increment ref count map saveable integer reference map saveable key result false integer count reference map key count null result true count integer reference map key integer count value result returns true key removed param reference map param key true count key decrement ref count map saveable integer reference map saveable key result false integer count reference map key count null assert true false key key name count value reference map remove key result true reference map key integer count value result returns true model removed models remove model object source saveable model result false set saveable models for source model map source models for source null log warning ignored attempt remove saveable saveables source model models for source remove model result decrement ref count model ref counts model models for source empty model map remove source log warning ignored attempt remove saveable registered source model result log warning string message object source saveable model create exception assertion failed exception assertion failed exception assertion failed exception unknown saveable model source record current stack trace debugging assertion failed exception fill stack trace workbench plugin log status util status status message assertion failed exception this implementation handle model lifecycle event called implementers saveables source list models model source dirty models saveables source instance passed source event object this method called objects hold models workbench parts event source set object workbench part corresponding open close events originate identical event source this method called thread override handle lifecycle event saveables lifecycle event event event source workbench part update set sources prompting see bug update non part source saveables source event source saveable model array event saveables event event type saveables lifecycle event add models event source model array saveables lifecycle event saveable models event saveables map saveable integer models decrementing hash map set saveable models closing hash set models length increment ref count models decrementing models fill models closing models closing models decrementing canceled prompt for saving necessary platform workbench active workbench window models closing models decrementing event force canceled event set veto true saveables lifecycle event remove models event source model array saveables lifecycle event fire model lifecycle event saveables lifecycle event event event type event saveables false updates set saveables sources param source update non part source saveables source source saveable saveables source saveables saveables length part sources remove source part sources add source param source param model array remove models object source saveable model array list saveable removed array list model array length saveable model model array remove model source model removed add model removed size fire model lifecycle event saveables lifecycle event saveables lifecycle event removed array saveable removed size false param source param model array add models object source saveable model array list saveable array list model array length saveable model model array add model source model add model size fire model lifecycle event saveables lifecycle event saveables lifecycle event array saveable size false param event fire model lifecycle event saveables lifecycle event event object listener array listeners listeners listener array length saveables lifecycle listener listener array handle lifecycle event event adds listener list listeners has identical listener listener notified models managed model manager event types include models list models models removed list models dirty models changed listeners ignore event types including there guarantee listeners notified models closed param listener add model lifecycle listener saveables lifecycle listener listener listeners add listener removes listener list listeners has listener contained list param listener remove model lifecycle listener saveables lifecycle listener listener listeners remove listener param parts close param save param window post close info passed post close object pre close parts list workbench part parts close save workbench window window pre close parts parts close save window window object pre close parts list workbench part parts close save shell provider shell provider workbench window window pre close parts parts close false save shell provider window object pre close parts list workbench part parts close add non part sources save shell provider shell provider workbench window window reference count occurrences model post close info post close info post close info workbench part parts close post close info parts closing add saveable part saveable saveable helper saveable saveable null save saveable save close needed pretend closing save saveable saveable part saveable part saveable part saveable part saveable saveable part prompting editor manager save all response saveable helper save part saveable part window true response saveable part user canceled null response saveable part saveable models from source saveables models from source length increment ref count post close info models decrementing models from source fill models closing post close info models closing post close info models decrementing add non part sources saveables source part source non part sources saveable saveables part source saveables saveable saveable saveables saveable dirty post close info models closing add saveable save canceled prompt for saving necessary shell provider window post close info models closing post close info models decrementing true canceled null post close info param window param models closing param cancel true user canceled prompt for saving necessary workbench window window set saveable models closing map saveable integer models decrementing cancel prompt for saving necessary window window models closing models decrementing cancel prompt for saving necessary shell provider shell provider workbench window window set saveable models closing map saveable integer models decrementing cancel list saveable models optionally save array list saveable model decrementing models decrementing key set model decrementing dirty models closing model decrementing models optionally save add model decrementing cancel models optionally save empty false prompt for saving models optionally save shell provider window cancel true cancel true list saveable models save array list saveable model closing models closing model closing dirty models save add model closing models save empty false prompt for saving models save shell provider window cancel false param models closing param models decrementing fill models closing set saveable models closing map saveable integer models decrementing entry saveable integer entry models decrementing entry set saveable model entry key entry value equals model ref counts model models closing add model prompt user save saveables param models save saveables saved param shell provider provider shell prompting required clients workbench window param runnable context runnable context provide progress monitor save place clients workbench window param cancel operation canceled param open elsewhere models referenced open parts true user canceled prompt for saving list saveable models save shell provider shell provider runnable context runnable context cancel open elsewhere save parts exit method cancel pressed models save size canceled saveable helper wait for background save jobs models save canceled true preference store api preference store pref util preference store dont prompt open elsewhere api preference store boolean workbench preference constants dont prompt models save clear false models save size saveable model models save show dialog string buttons cancel buttons string dialog constants dialog constants dialog constants buttons string dialog constants dialog constants don save don prompt choice saveable part message dialog dialog open elsewhere string message bind workbench messages editor manager save changes optionally question model name message dialog with toggle dialog with toggle message dialog with toggle shell provider shell workbench messages save resource null message message dialog buttons workbench messages editor manager close without prompting option false override shell style cancel default orientation dialog dialog with toggle string message bind workbench messages editor manager save changes question model name dialog message dialog shell provider shell workbench messages save resource null message message dialog buttons override shell style cancel default orientation choice saveable helper test get automated response saveable helper test get automated response saveable helper choice dialog open open elsewhere map choice saveable part values choice dialog constants choice saveable part dialog constants choice saveable part dialog constants choice saveable part message dialog with toggle dialog with toggle message dialog with toggle dialog choice saveable part dialog with toggle toggle state api preference store set value workbench preference constants false choice saveable part saveable part models save clear cancel saveable part true list selection dialog dlg list selection dialog shell provider shell models save array content provider workbench part label provider open elsewhere workbench messages editor manager save resources optionally message workbench messages editor manager save resources message cancel open elsewhere dlg set initial selections models save array dlg set title workbench messages editor manager save resources title statement aids testing saveable helper test get automated response saveable helper result dlg open just null prevent operation continuing result dialog constants true dlg dont prompt selection api preference store set value workbench preference constants false models save array list object objects dlg result object object objects object saveable models save add saveable object create save block save models models save shell provider runnable context save models param models list models saved param shell provider provider shell prompting required clients workbench window param runnable context runnable context provide progress monitor save place clients workbench window code true code operation canceled save models list saveable models shell provider shell provider runnable context runnable context save models models shell provider runnable context true save models param models list models saved param shell provider provider shell prompting required clients workbench window param runnable context runnable context provide progress monitor save place clients workbench window param block until saved code true code operation canceled save models list saveable models shell provider shell provider runnable context runnable context block until saved runnable with progress progress runnable with progress override progress monitor monitor progress monitor monitor wrap event loop progress monitor monitor sub monitor monitor sub monitor convert monitor wrap workbench messages saving modifications models size saveable model models saving model dirty monitor worked saveable helper save model model monitor split shell provider block until saved monitor canceled monitor wrap save saveable helper progress monitor operation workbench messages save all progress runnable context shell provider post close info list workbench part parts closing array list map saveable integer models decrementing hash map set saveable models closing hash set param post close info object post close object post close info object post close info post close info post close info post close info object list saveable removed array list workbench part post close info parts closing set saveable saveables model map saveables null copy avoid concurrent modification exception remove original set iterate saveables hash set saveables saveable saveable saveables remove model saveable removed add saveable removed size fire model lifecycle event saveables lifecycle event saveables lifecycle event removed array saveable removed size false returns saveable models provide models model returned representing param workbench saveable models saveable saveables workbench part saveables source saveables source source saveables source source saveables saveable helper saveable saveable default saveable saveable param post open workbench part add models saveables param dirty changed workbench part saveable saveables saveables saveables length fire model lifecycle event saveables lifecycle event saveables lifecycle event saveables false for testing purposes not called clients param model null object test get sources for model saveable model list object result array list entry object set saveable entry model map entry set set saveable values entry value values model result add entry key result array list selection dialog list selection dialog cancel button checkbox dont prompt selection open elsewhere list selection dialog shell shell object input structured content provider contentprovider label provider label provider string message cancel open elsewhere shell input contentprovider label provider message cancel cancel open elsewhere open elsewhere shell style shell style cancel shell style set shell style shell style dont prompt selection dont prompt selection override create buttons for button bar composite parent create button parent dialog constants dialog constants true cancel create button parent dialog constants dialog constants false override control create dialog area composite parent composite dialog area composite composite create dialog area parent open elsewhere composite checkbox composite composite dialog area composite checkbox composite set layout grid layout false checkbox button checkbox composite checkbox add selection listener selection adapter override widget selected selection event dont prompt selection checkbox selection grid data grid data horizontal alignment checkbox set layout data label label label checkbox composite label set text workbench messages editor manager close without prompting option grid data grab excess horizontal space true horizontal alignment dialog area composite list saveables source objects registered saveables list workbench parts saveables source non part sources part sources array saveables source part sources size workbench part parts for saveable saveable model list workbench part result array list entry object set saveable entry model map entry set set saveable values entry value values model entry key workbench part result add workbench part entry key result array workbench part result size
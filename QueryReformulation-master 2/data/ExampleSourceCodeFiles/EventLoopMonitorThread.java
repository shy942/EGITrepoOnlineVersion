/Users/user/eclipse.platform.ui/bundles/org.eclipse.ui.monitoring/src/org/eclipse/ui/internal/monitoring/EventLoopMonitorThread.java
org eclipse internal monitoring java lang management management factory java lang management thread info java lang management thread bean java text simple date format java util array list java util arrays java util date java util list java util concurrent atomic atomic boolean java util concurrent atomic atomic reference org eclipse core runtime assert org eclipse core runtime core exception org eclipse core runtime configuration element org eclipse core runtime platform org eclipse osgi util org eclipse swt org eclipse swt exception org eclipse swt widgets display org eclipse swt widgets event org eclipse swt widgets listener org eclipse workbench org eclipse monitoring freeze event logger org eclipse monitoring preference constants org eclipse monitoring stack sample org eclipse monitoring freeze event event loop monitoring thread detects events time process collects stack traces thread processing events logs events error log event loop monitor thread thread string org eclipse monitoring logger string string debug event monitor string event loop monitor tracer tracer tracer create preference constants helper object passing preference based arguments constructor making code readable compared large parameter list integers booleans parameters events longer duration logged warnings event warning threshold events longer duration logged errors event error threshold events longer duration reported deadlocks waiting event finish deadlock threshold maximum number stack samples log max stack samples true log freeze events eclipse error log local machine log error log org eclipse monitoring preference constants string thread filter org eclipse monitoring preference constants string noninteresting thread filter checks values parameters responsiveness monitoring valid illegal argument exception parameter values invalid inconsistent check parameters illegal argument exception string builder problems string builder event warning threshold problems append bind messages event loop monitor thread warning threshold error event warning threshold event error threshold event warning threshold problems append bind messages event loop monitor thread error threshold error event error threshold event warning threshold deadlock threshold problems append bind messages event loop monitor thread deadlock error deadlock threshold deadlock threshold event error threshold problems append bind messages event loop monitor thread deadlock threshold error deadlock threshold event error threshold problems length illegal argument exception bind messages event loop monitor thread invalid argument error problems string describes event loop visible testing event loop state listener number link pre event pre event number link post event post event link pre external event dispatch pre external event dispatch nesting level stack nesting levels current nesting level pushed stack link pre external event dispatch pre external event dispatch event popped stack link post external event dispatch post external event dispatch event nesting level stack nesting level stack size override handle event event event freeze monitoring involves intervals pre event post event messages for log top level nested dispatch takes interval pre event post event log preparation popping dialog takes interval pre event messages log processing dismissing dialog takes interval post event messages log delay nested calls interval post event pre event this happen dialog dismissed code processing thread pops dialog don log delays top level events interval post event pre event top level involve sleeping tracking pre external event dispatch post external event dispatch events handle items delay post event pre event idle display sleep freeze since idle system block external event loop time avoid logging delays time event start resume time field set thread external event loop deadlock logging avoided event type pre event event indicate responsive event detail ignore events produced freeze nesting level event history null event history record event event type event detail nesting level log interval start timer handle event transition true true post event event indicate responsive event detail ignore events produced freeze nesting level this happen pre event events occurred started listening events nesting level event history null event history record event event type event detail nesting level log interval start timer event handle event transition true nesting level pre external event dispatch save and reset nesting level event history null event history record event event type event detail nesting level log interval timer handle event transition true false post external event dispatch restore nesting level event history null event history record event event type event detail nesting level don log interval start timer event handle event transition false nesting level returns code true dispatching event type responsive events produced freezes irrelevant responsiveness monitoring event indicate responsive event type event type skin measure item dispose false true save and reset nesting level nesting level stack size nesting level stack length nesting level stack nesting level stack size nesting level nesting level monitoring plugin log error bind messages event loop monitor thread max event loop depth exceeded nesting level stack length null shutdown restore nesting level nesting level stack size nesting level nesting level stack nesting level stack size this happen pre external event dispatch events occurred started listening events nesting level circular buffer recording events used tracing event history simple date format simple date format event info timestamp event type detail nesting level event info buffer index recorded event start number recorded events size event history capacity buffer event info capacity capacity buffer event info record event event type detail nesting level start size buffer length event info event buffer event timestamp system current time millis event event type event type event detail detail event nesting level nesting level size buffer length size start buffer length start string extract and clear string builder buf string builder size start buffer length event info event info buffer buf append format date event info timestamp buf append event info event type pre event buf append pre event post event buf append post event pre external event dispatch buf append pre external event dispatch post external event dispatch buf append post external event dispatch buf append event buf append event info event type buf append buf append event info detail buf append nesting level buf append event info nesting level buf append size buf string accessed thread event loop state event loop state event loop state tracks current event started event nested link event send event calls time nested call returns current event resumed accessed monitoring thread updated thread read polling thread changing thread polling thread reset stalled event thread sets sleep positive represent dispatched event start resume time accessed monitoring threads event warning threshold atomic boolean cancelled atomic boolean false atomic reference long event info event publish atomic reference long event info null accessed monitoring thread list freeze event logger external loggers array list freeze event logger default freeze event logger logger display display filter handler thread filter filter handler noninteresting thread filter event error threshold sample interval threads sample interval max stack samples max logged stack samples deadlock threshold thread object sleep monitor log error log event history event history thread bean thread bean dump locked monitors dump locked synchronizers monitoring thread initializes monitoring thread param args parameters derived preferences illegal argument exception monitoring thread initialized error event loop monitor thread parameters args illegal argument exception event loop monitor tracer null event history event history assert not null args args check parameters set daemon true set priority display display thread display thread event warning threshold math max args event warning threshold event error threshold math max args event error threshold event warning threshold max logged stack samples math max args max stack samples max stack samples max logged stack samples sample interval event warning threshold threads sample interval event error threshold deadlock threshold args deadlock threshold log error log args log error log thread filter filter handler args thread filter noninteresting thread filter filter handler args noninteresting thread filter sleep monitor object shuts monitoring thread must called display thread shutdown exception cancelled set true display disposed display remove listener pre event event loop state display remove listener post event event loop state display remove listener pre external event dispatch event loop state display remove listener post external event dispatch event loop state wake for testing handle event event event event loop state handle event event called thread handle event transition attempt log long delay start event timer transition events sleeping wake reset delay tracking publish delay message updating event start resume time polling thread reset stack traces changed event published indeterminacy threading polling thread event publish change difference small window additional stack trace scheduled sampled bogus stack trace sample appended samples this bogus sample removed logging curr time timestamp attempt log long delay start time event start resume time start time duration curr time start time duration event warning threshold long event info info long event info start time duration event publish set info wake event start resume time start event timer curr time override log error log logger default freeze event logger event error threshold load logger extensions log error log external loggers empty monitoring plugin log warning messages event loop monitor thread logging disabled error monitoring thread thread current thread thread bean management factory thread bean dump locked monitors thread bean object monitor usage supported dump locked synchronizers thread bean synchronizer usage supported contention monitoring supported thread bean thread contention monitoring supported event loop starts middle freeze succeed capturing portion freeze sees our timer resolution millisecond events duration reset stalled event state true deadlock timer start polling nyquist delay sample interval immediately updated reset stalled event state polling delay immediately updated reset stalled event state grab stack sample immediately updated reset stalled event state event start resume time stack sample stack samples stack sample max stack samples num samples starved awake false starved asleep false dump all threads false register events display async exec register display listeners curr time timestamp cancelled sleep for reset stalled event state event time event start resume time deadlock timer start event time event time event time curr time grab stack sample event time sample interval num samples starved awake false starved asleep false dump all threads stop capturing stacks threads dump all threads false contention monitoring supported thread bean set thread contention monitoring enabled false polling delay sample interval sleep for polling nyquist delay reset stalled event state false event start resume time sleep for polling nyquist delay sleep for math min polling nyquist delay math max grab stack sample curr time allow discarded stack samples garbage collected num samples stack samples length stack samples null stack samples null this top polling loop sleep timestamp check starvation sleeping sleep process longer expected threshold longer polling thread starved thread starvation freezes don log awake duration curr time sleep starved awake current cycle awake duration sleep for event warning threshold starved awake current cycle starved awake true sleep for millis sleep for curr time timestamp curr event start resume time event start resume time sleep duration curr time sleep starved asleep current cycle sleep duration sleep for event warning threshold starved asleep current cycle starved asleep true starved starved asleep current cycle starved awake current cycle sleeping event dispatched mark update stalled event otherwise check surpassed threshold collect stack trace event start resume time curr event start resume time starved reset stalled event state true tracer null starved starved awake current cycle tracer trace string format starvation detected polling loop amount threshold dms awake duration starved asleep current cycle tracer trace string format starvation detected expected sleep dms slept dms sleep for sleep duration event start resume time dump all threads curr time event start resume time threads sample interval start capturing stacks threads dump all threads true contention monitoring supported thread bean set thread contention monitoring enabled true deadlock timer start total duration curr time deadlock timer start total duration deadlock threshold num samples max logged stack samples decimate stack samples num samples max logged stack samples num samples max logged stack samples thread filter log event stack samples num samples thread log event freeze event deadlock timer start total duration arrays copy stack samples num samples true starved awake starved asleep don log potential deadlock deadlock timer start collect additional stack traces time elapsed max stack samples curr time grab stack sample num samples max stack samples num samples max stack samples decimate stack samples max stack samples num samples thread info thread stacks capture thread stacks dump all threads stack samples num samples stack sample timestamp thread stacks num samples max stack samples reduce polling frequency polling delay grab stack sample polling delay stalled event finished publish mark reset long event info event snapshot event publish and set null event snapshot null event end event snapshot start event snapshot duration remove stack samples collected event num samples event end stack samples num samples timestamp num samples num samples max logged stack samples remove stack sample close event event end stack samples num samples timestamp sample interval num samples num samples max logged stack samples decimate stack samples num samples max logged stack samples num samples max logged stack samples thread filter log event stack samples num samples thread log event freeze event event snapshot start event snapshot duration arrays copy stack samples num samples false starved awake starved asleep reset stalled event state true event start resume time curr event start resume time thread info capture thread stacks dump all threads dump all threads thread info thread stacks thread bean dump all threads dump locked monitors dump locked synchronizers remove info monitoring thread thread stacks length thread info thread thread stacks thread thread thread skip stack trace event loop monitoring thread thread monitoring thread thread thread swap thread slot array thread thread stacks thread stacks thread stacks interesting thread skip interesting thread thread stacks thread arrays copy thread stacks thread info thread bean thread info thread integer thread considered interesting stack trace includes frame matching methods link noninteresting thread filter interesting thread info thread stack trace element element thread stack trace noninteresting thread filter matches filter element true false display display illegal state exception workbench workbench monitoring plugin default workbench workbench null illegal state exception messages event loop monitor thread workbench null display display workbench display display null illegal state exception messages event loop monitor thread display null display visible for testing timestamp system current time millis visible for testing sleep for millis milliseconds milliseconds sleep monitor spurious wake burn extra cycles sleep monitor wait milliseconds interrupted exception load logger extensions configuration element config elements platform extension registry configuration elements for configuration element element config elements object object element create executable extension object freeze event logger external loggers add freeze event logger object monitoring plugin log warning bind messages event loop monitor thread invalid logger type error object object class name freeze event logger class simple name element contributor name core exception monitoring plugin log error message register display listeners display add listener pre event event loop state display add listener post event event loop state display add listener pre external event dispatch event loop state display add listener post external event dispatch event loop state reduces number samples weeding remaining samples chosen represent range samples slight preference samples stacks threads param samples array samples param size number samples choose array param size number samples select decimate stack sample samples size size size size size samples samples wake sleep monitor sleep monitor notify writes freeze event log log event freeze event event tracer null tracer trace logging event prior events event history extract and clear log error log logger log event external loggers size freeze event logger current logger external loggers current logger log event throwable external loggers remove monitoring plugin log error bind messages event loop monitor thread external exception error current logger class name
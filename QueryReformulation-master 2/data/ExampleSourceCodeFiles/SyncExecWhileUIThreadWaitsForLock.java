/Users/user/eclipse.platform.ui/tests/org.eclipse.ui.tests/Eclipse UI Tests/org/eclipse/ui/tests/concurrency/SyncExecWhileUIThreadWaitsForLock.java
org eclipse tests concurrency org eclipse swt widgets display org eclipse core runtime jobs lock org eclipse core runtime jobs job junit framework test case this tests simple traditional deadlock thread holding lock perform sync exec thread waiting lock synchronizer lock listener conspire prevent deadlock sync exec while thread waits for lock test case test deadlock lock lock job job manager lock blocked false lock acquired false thread locking thread sync exec while thread waits for lock override background thread owns lock lock acquire spawn async exec thread blocked display default async exec runnable override blocked true lock acquire lock release blocked false wait thread blocked waiting lock blocked thread sleep interrupted exception attempt sync exec acquires lock succeed async exec blocked synchronizer display default sync exec runnable override timeout avoid deadlock regression lock acquire flag verify acquired lock lock acquired true lock release interrupted exception lock release locking start wait succeeded acquire lock thread wait start system current time millis display display display default lock acquired spin event loop async exed display read and dispatch display sleep waited fail test system current time millis wait start true deadlock occurred false test succeeded
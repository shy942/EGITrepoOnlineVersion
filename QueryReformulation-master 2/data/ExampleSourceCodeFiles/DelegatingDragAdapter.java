/Users/user/eclipse.platform.ui/bundles/org.eclipse.jface/src/org/eclipse/jface/util/DelegatingDragAdapter.java
org eclipse jface util java util array list java util iterator java util list org eclipse swt dnd drag source org eclipse swt dnd drag source event org eclipse swt dnd drag source listener org eclipse swt dnd transfer org eclipse swt dnd transfer data code delegating drag adapter code code drag source listener code maintains delegates set link transfer drag source listener each transfer drag source listener implemented code drag source code drag source listener when drag started subset code transfer drag source listeners code generated stored list active listeners this subset calculated forwarding link drag source listener drag start drag source event listener checking link drag source event doit doit field left set code true code code drag source code set supported transfer types link drag source set transfer transfer updated reflect transfer types active listener subset link drag set data drag source event called single code transfer drag source listener code chosen allowed set drag data chosen listener listener subset active listeners transfer supports link transfer supported type transfer data code data type code code drag source event code snippet code delegating drag adapter code code transfer drag source listeners code one drag text strings supports file transfer demonstrates listener disabled drag start method code pre tree viewer viewer tree viewer shell delegating drag adapter drag adapter delegating drag adapter drag adapter add drag source listener transfer drag source listener transfer transfer text transfer instance drag start drag source event event enabled control enablement based selection drag set data drag source event event event data transfer data drag finished drag source event event clean required drag adapter add drag source listener transfer drag source listener transfer transfer file transfer instance drag start drag source event event enable drag listener viewer selection event doit viewer selection empty drag set data drag source event event file file file temp file file file file temp file event data string file absolute path file absolute path drag finished drag source event event clean required viewer add drag support drag adapter transfers drag adapter pre code delegating drag adapter drag source listener list transfer drag source listener listeners array list list transfer drag source listener active listeners array list transfer drag source listener current listener adds code transfer drag source listener code param listener listener add drag source listener transfer drag source listener listener listeners add listener drop completed this event forwarded current drag listener doesn update current listener current listener completed drag operation param event drag source event drag source listener drag finished drag source event override drag finished drag source event event policy system println drag finished string safe runnable safe runnable override exception current listener null listener handle drop delegate event current listener drag finished event drag canceled current listener set send drag finished event active listeners event doit false iterator transfer drag source listener iterator active listeners iterator iterator next iterator drag finished event current listener null active listeners clear drop data requested updates current listener forwards event param event drag source event drag source listener drag set data drag source event override drag set data drag source event event policy system println drag set data string find listener provide data type update current listener event current listener null safe runnable safe runnable override exception current listener drag set data event drag operation started forwards event listener listener set code event doit code code false code handle drag operation listener handle drag list active listeners drag aborted listeners handle param event drag source event drag source listener drag start drag source event override drag start drag source event event policy system println drag start string true listeners handle drag doit false list transfer transfers array list listeners size active listeners clear listeners size transfer drag source listener listener listeners restore event doit event doit true safe runnable safe runnable override exception listener drag start event event doit listener handle drag transfers add listener transfer active listeners add listener doit event doit doit drag source event widget set transfer transfers array transfer transfers size event doit doit returns code transfer code code transfer drag source listener code combined code transfer code transfer transfers transfer types transfer listeners size listeners size transfer drag source listener listener listeners types listener transfer types returns code true code listeners delegate drag events code true code code transfer drag source listeners code code false code empty listeners empty removes code transfer drag source listener code listeners removed drag drop operation progress param listener code transfer drag source listener code remove remove drag source listener transfer drag source listener listener listeners remove listener current listener listener current listener null active listeners listener active listeners remove listener updates current listener handle drag there listeners listener handle code transfer data code types listener supports code transfer data ode types code drag source event code selected param event drag source event update current listener drag source event event current listener null event data type null iterator transfer drag source listener iterator active listeners iterator iterator next transfer drag source listener listener iterator listener transfer supported type event data type policy system println current drag listener listener current listener listener
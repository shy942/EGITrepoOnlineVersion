/Users/user/eclipse.platform.ui/bundles/org.eclipse.core.databinding.observable/src/org/eclipse/core/databinding/observable/ObservableTracker.java
org eclipse core databinding observable java util set org eclipse core databinding util policy org eclipse core internal databinding identity identity set org eclipse core runtime assert org eclipse core runtime status org eclipse core runtime status this monitor observable read this automatically attach remove listeners how implementing observable invoke getter called getter called observable read you method call getter delegates outer getter doesn call method determine observables block code call and monitor runnable this execute runnable set observables read this automatically attach listeners for imagine block code updates widget reading bunch observables whenever observables code widget refreshed you traditional manner attaching listener observable running widget update code code repetitive requires updating listener code refactor widget updating code alternatively utility runs code and monitor block automatically attach listeners observable updating widget advantage approach eliminates code attaching detaching listeners stay synch widget update logic observable tracker threadlocal storage pointing current set observables null note top stack whenever method current remembers local variable restores method exits thread local change listener current change listener thread local thread local stale listener current stale listener thread local thread local set observable current getter called set thread local thread local set observable current observable created set thread local thread local integer current ignore count thread local invokes runnable returns set observables read runnable runnable calls method recursively result observables runnable param runnable runnable execute param change listener listener register accessed observables param stale listener listener register accessed observables code null code stale listener registered array unique observable objects observable and monitor runnable runnable change listener change listener stale listener stale listener remember previous listener stack set observable observable set current getter called set change listener change listener current change listener stale listener stale listener current stale listener integer ignore current ignore count set observable observable set identity set push listeners top stack current getter called set set observable set current change listener set change listener current stale listener set stale listener current ignore count set null runnable pop listener top stack restoring previous listener current getter called set set observable set current change listener set change listener current stale listener set stale listener check unmatched ignore runnable current ignore count set ignore observable set array observable observable set size invokes runnable returns set observables created runnable runnable calls method recursively result observables created runnable eclipse unresolved problems href https bugs eclipse org bug find work deprecated param runnable runnable execute array unique observable objects observable and collect runnable runnable set observable observable created set current observable created set integer ignore current ignore count set observable observable set identity set push listeners top stack current observable created set set observable set current ignore count set null runnable pop listener top stack restoring previous listener current observable created set set observable created set check unmatched ignore runnable current ignore count set ignore observable set array observable observable set size check unmatched ignore runnable runnable ignore policy log log status status policy there current ignore count unmatched set ignore true invocations runnable runnable argument code true code subsequent calls link getter called observable link observable created observable current thread when flag set code false code calls link getter called observable link observable created observable resume gathering observables nested calls method stacked param ignore ignore exception illegal state exception code ignore code false ignore count getter called observable observable created observable set ignore ignore integer count current ignore count count count null count value ignore count illegal state exception ignore count current ignore count set count null integer count runs runnable tracking dependencies param runnable and ignore runnable runnable set ignore true runnable set ignore false returns string object string implementation getter called method observable string avoid infinite recursion stack overflow string string observable observable observable class name integer hex string system identity hash code observable ignore current ignore count null notifies observable tracker observable read java doc methods invoke method include tag tracked getter this method notify observable tracker receiver read this callers rely automatic updates object explicitly attaching listener param observable getter called observable observable observable disposed assert true false getter called disposed observable string observable realm realm observable realm realm current assert true false getter called realm observable string observable ignore set observable getter called set current getter called set getter called set null getter called set add observable listening observable usage change listener change listener current change listener change listener null observable add change listener change listener stale listener stale listener current stale listener stale listener null observable add stale listener stale listener notifies observable tracker observable created param observable observable created observable created observable observable ignore set observable observable created set current observable created set observable created set null observable created set add observable
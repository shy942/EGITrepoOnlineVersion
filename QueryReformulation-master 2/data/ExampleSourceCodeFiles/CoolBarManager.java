/Users/user/eclipse.platform.ui/bundles/org.eclipse.jface/src/org/eclipse/jface/action/CoolBarManager.java
org eclipse jface action java util array list java util hash map java util iterator java util list java util list iterator org eclipse core runtime assert org eclipse jface internal provisional action tool bar manager org eclipse jface util policy org eclipse swt org eclipse swt widgets composite org eclipse swt widgets control org eclipse swt widgets cool bar org eclipse swt widgets cool item org eclipse swt widgets menu cool bar manager contribution manager realizes items cool bar control this instantiated subclassed cool bar manager contribution manager cool bar manager separator created user string user separator original creation order contribution items array list contribution item items creation order array list menu manager cool bar pop menu null menu manager context menu manager null cool bar control code null code creation disposal cool bar cool bar null cool bar items style code code item style creates cool bar manager style equivalent code cool bar manager code cool bar manager creates cool bar manager existing cool bar control this manager responsible control dispose manager disposed param cool bar cool bar control cool bar manager cool bar cool bar assert not null cool bar cool bar cool bar item style cool bar style creates cool bar manager style calling code create control code create cool bar control param style cool bar item style link org eclipse swt widgets cool bar cool bar valid style bits cool bar manager style item style style override add tool bar manager tool bar manager assert not null tool bar manager add tool bar contribution item tool bar manager collapses consecutive separators removes separator list param contribution list list contributions code null code contribution list extraneous separators removed code null code empty array list contribution item adjust contribution list array list contribution item contribution list contribution item item fist remove separator element list contribution list size item contribution list item separator contribution list remove list iterator contribution item iterator contribution list list iterator collapse consecutive separators iterator next item iterator item separator iterator next item iterator item separator iterator remove contribution list size now check element separator item contribution list contribution list size item separator contribution list remove contribution list size contribution list override item contribution item item add null entries item add null true null identifiers expected generic contribution items string item add null true cycle current list duplicates contribution item current items items current items length contribution item current item current items ignore null entries current item null string current item equals policy system println trying add duplicate item exception print stack trace system system println false true positions list iterator separators calling code code iterator object separator param iterator list iterator collapse separators list iterator contribution item iterator iterator next contribution item item iterator item separator iterator previous returns cool bar control created disposed code true code control created disposed code false code cool bar exist cool bar null cool bar disposed creates returns manager cool bar control does create control exists param parent parent control cool bar control cool bar create control composite parent assert not null parent cool bar exist cool bar cool bar parent item style cool bar set menu context menu control cool bar set locked false update false cool bar disposes cool bar manager frees allocated resources notifies contribution items dispose note method clean references cool bar manager contribution items use code remove all code purpose dispose cool bar exist cool bar dispose cool bar null contribution item items items items length disposes contribution item contribution item toolbar dispose nested contribution items items dispose context menu existed dispose context menu manager null context menu manager dispose context menu manager null disposes cool item param item cool item dispose dispose cool item item item null item disposed item set data null control control item control control null control disposed item set control null created dispose bug control dispose item dispose finds cool item contribution item param item contribution item cool item code null code cool item find cool item contribution item item cool item cool items cool bar null null cool bar items find cool item cool items item cool item find cool item cool item items contribution item item items null null items length cool item cool item items contribution item data contribution item cool item data data null data equals item cool item null return consistent set wrap indices include entry entry cool bar wrap indices inconsistent returns row param wraps wrap indicies cool bar widget adjusted wrap indicies adjusted wrap indices wraps adjusted wrap indices wraps length adjusted wrap indices wraps adjusted wrap indices wraps length adjusted wrap indices wraps length adjusted wrap indices wraps adjusted wrap indices wraps adjusted wrap indices returns control menu manager menu manager control created menu control manager null menu context menu control context menu manager null cool bar null menu menu widget context menu manager menu menu widget null menu widget disposed menu widget context menu manager create context menu cool bar menu widget null override menu manager context menu manager context menu manager returns cool bar control manager cool bar control code null code cool bar control cool bar returns array list contribution items manager array list contribution items array list contribution item item list contribution item items items array list contribution item list array list items length items length list add items list override lock layout cool bar exist false cool bar locked returns number rows displayed visually param items array contributin items number rows num rows contribution item items num rows separator found false items length items separator separator found true separator found child visible items items group marker items separator num rows separator found false num rows override style item style subclasses extend code contribution manager code method call code item added code org eclipse jface action contribution manager item added org eclipse jface action contribution item override item added contribution item item assert not null item item added item inserted item replaced false size items creation order size size contribution item created items creation order created null created equals item items creation order set item replaced true replaced items creation order add math min math max inserted items creation order size item subclasses extend code contribution manager code method call code item removed code org eclipse jface action contribution manager item removed org eclipse jface action contribution item override item removed contribution item item assert not null item item removed item cool item cool item find cool item item cool item null cool item set data null positions list iterator starting row calling returned iterator element row param iterator list iterator contribution items param ignore current item whether current item iterator considered subsequent items row list iterator contribution item iterator ignore current item contribution item current element null ignore current item iterator previous current element iterator previous iterator current element null current element separator collapse separators iterator find separator iterator next contribution item item iterator item separator find separator collapse consecutive separators collapse separators iterator used debuging prints items internal structures print contributions array list contribution list system println iterator contribution list iterator next contribution item item contribution item item separator system println separator system println item item visible item visible synchronizes visual order cool items control manager internal data structures this method called requesting order contribution items ensure order accurate note code update code code refresh code converses code update code visual order match internal structures code refresh code internal structures match visual order refresh cool bar exist retreives list contribution items array list array list contribution item contribution list item list check size list contribution list size list cool items visual order cool item cool items cool bar items wrap indicies coolbar wrap indicies adjusted wrap indices cool bar wrap indices row cool item index traverse cool items coolbar add data structure correct order array list contribution item displayed items array list cool bar item count cool items length cool item cool item cool items cool item data contribution item contribution item item contribution item cool item data displayed items add math min displayed items size item add separators displayed items data structure offset wrap indicies length insert wrap indicies offset displayed items add insert separator offset determine rows invisible array list integer existing visible rows array list list iterator contribution item row iterator contribution list list iterator collapse separators row iterator num row row iterator next scan row row iterator next contribution item item row iterator displayed items item existing visible rows add integer num row item separator row row iterator false num row iterator integer existing rows existing visible rows iterator adjust row number visible existing rows next row existing rows value hash map contribution item integer item location hash map list iterator contribution item location iterator displayed items list iterator location iterator next contribution item item location iterator item separator existing rows next integer existing rows row value row item location item integer row insert contribution items correct location list iterator contribution item iterator displayed items list iterator iterator next contribution item item iterator item separator cool item index relocate item cool item index contribution list item location item save widget state cool item index contribution list adjust contribution list contribution list contribution list size contribution item array contribution item contribution list size array contribution list array array internal set items array relocates contribution item param item conribution item relocate param locate item param contribution list current list conrtributions param item location relocate contribution item item array list contribution item contribution list hash map contribution item integer item location item location item null target row item location item value internal index contribution list item add list insert contribution list size find row place item list iterator contribution item iterator contribution list list iterator bypass separators begining collapse separators iterator current row iterator next current row current row target row row insert item virtual index insert iterator index element iterator next contribution item item iterator integer item row item location item item separator item associate widget item row null item row value target row virtual index virtual index insert don move internal index insert row iterator true contribution list remove item adjust insert internal index insert insert didn find row add row current row target row contribution list add separator insert contribution list size insert math min insert contribution list size contribution list add insert item restores canonical order cool bar manager canonical order order contribution items reset item order list iterator contribution item iterator items creation order list iterator iterator next contribution item item iterator user separator include original order item null item equals iterator remove contribution item items set contribution item items creation order size items creation order array items set set items items set override set context menu manager menu manager context menu manager context menu manager menu manager context menu manager cool bar null cool bar set menu context menu control replaces current items items forces update param items items replace current items set items contribution item items dispose cool items cool bar manager cool bar null cool item cool items cool bar items cool items length dispose cool items set internal structure order internal set items items force update update true override set lock layout cool bar exist cool bar set locked subclasses extend code contribution manager code method call code update code org eclipse jface action contribution manager update override update force dirty force cool bar exist relock false changed false cool bar set redraw false refresh widget data internal data structure refresh cool bar locked cool bar set locked false relock true make list items including items visible separators stay mark breaks cool bar contribution item items items list contribution item visible items array list items length items length contribution item item items child visible item visible items add item make list cool item widgets cool bar current visible contribution item these widgets disposed dynamic items removed cool item cool items cool bar items array list cool item cool items remove array list cool items length cool items length object data cool items data data null visible items data data contribution item contribution item data dynamic cool items remove add cool items dispose items list removed cool items remove size cool item cool item cool items remove cool item disposed control control cool item control control null cool item set control null control dispose cool item dispose add items telling fill cool items cool bar items contribution item source item contribution item destination item source index destination index iterator contribution item visible item itr visible items iterator visible item itr next source item visible item itr data source index cool items length destination item contribution item cool items source index data destination item null items match equal separators destination item null source item equals destination item source index destination index source item update destination item separator source item separator cool items source index set data source item source index destination index source item update otherwise item start cool bar item count source item tool bar contribution item tool bar manager manager tool bar contribution item source item tool bar manager manager tool bar manager tool bar manager manager set overrides overrides source item fill cool bar destination index items cool bar item count start items cool bar item destination index set data source item changed true remove widgets accounted cool items length source index cool item item cool items item disposed control control item control control null item set control null control dispose item dispose changed true update wrap indices update wrap indices update sizes items length contribution item item items item update cool bar locked lock relock cool bar set locked true changed update tab order longer dirty set dirty false cool bar set redraw true sets tab order coolbar visual order items update tab order cool bar null cool item items cool bar items items null array list control children array list items length items length items control null items control disposed children add items control convert array control children array control children array children array children array children array null cool bar set tab list children array updates indices cool bar wrap update wrap indices contribution item items items num rows num rows items generate list wrap indices wrap indices num rows separator false cool item cool items cool bar null null cool bar items items length contribution item item items cool item cool item find cool item cool items item item separator separator true item separator item group marker child visible item cool item null separator wrap indices cool bar cool item separator false check wrap indices indices cool bar wrap indices update false indices length wrap indices length indices length indices wrap indices update true update true update cool bar set wrap indices wrap indices child visible contribution item item boolean contribution manager overrides overrides overrides overrides null null overrides visible item null value item visible
/Users/user/eclipse.platform.ui/tests/org.eclipse.ui.tests/Eclipse JFace Tests/org/eclipse/jface/tests/fieldassist/AbstractFieldAssistTestCase.java
org eclipse jface tests fieldassist junit framework test case org eclipse jface bindings key stroke org eclipse swt org eclipse swt widgets display org eclipse swt widgets event org eclipse swt widgets shell org eclipse swt widgets text abstract field assist test case test case window tested abstract field assist window window shell focus field assist window shell shell original number shells test original shell count override set exception set display display display shell shell display text shell shell open spin event loop original shell count display shells length window create field assist window not null window override tear down exception window null spin event loop close field assist window shell close tear down display display display display display current display null display display default display close field assist window window null window close window null creates field assist window tested abstract field assist window create field assist window returns created field assist window may null link create field assist window called test torn abstract field assist window field assist window window spin event loop spin event loop async exec calls content proposal adapter display disp display disp read and dispatch ensure popup popup spin event loop window auto activation delay spin event loop time system current time millis target time window auto activation delay target time remain responsive spin event loop time system current time millis thread sleep interrupted exception spin event loop gives focus field assist control send focus control window field assist control set focus spin event loop send focus field assist shell this involves optionally creating shell create shell adjust original shell count send focus elsewhere shell set focus spin event loop sends focus field assist popup send focus popup field assist window content proposal adapter set proposal popup focus spin event loop sends key down event character field assist control param character character pressed send key down control character fake key down event send focus control event event event event type key down event character character true unable post event display queue test window display post event spin event loop sends key down event keystroke param character character pressed send key down control key stroke keystroke fake key down event send focus control event event event event type key down event key code keystroke natural key true unable post event display queue test window display post event spin event loop checks shell original field assist window one shell spin event loop equals there shell dialog original shell count window display shells length checks shells original field assist window proposals popup two shells spin event loop equals there shells dialog proposals dialog original shell count window display shells length set control content string text window control content adapter set control contents window field assist control text text length string control content window control content adapter control contents window field assist control
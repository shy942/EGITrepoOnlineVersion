/Users/user/eclipse.platform.ui/bundles/org.eclipse.ui.ide/src/org/eclipse/ui/internal/ide/misc/CheckboxTreeAndListGroup.java
org eclipse internal ide misc java util array list java util hash map java util iterator java util list java util map java util map entry java util set org eclipse core commands common event manager org eclipse core runtime safe runner org eclipse jface util safe runnable org eclipse jface viewers check state changed event org eclipse jface viewers checkbox table viewer org eclipse jface viewers checkbox tree viewer org eclipse jface viewers check state listener org eclipse jface viewers label provider org eclipse jface viewers selection changed listener org eclipse jface viewers structured content provider org eclipse jface viewers structured selection org eclipse jface viewers tree content provider org eclipse jface viewers tree viewer listener org eclipse jface viewers selection changed event org eclipse jface viewers structured selection org eclipse jface viewers tree expansion event org eclipse jface viewers viewer comparator org eclipse swt org eclipse swt custom busy indicator org eclipse swt layout grid data org eclipse swt layout grid layout org eclipse swt widgets composite org eclipse swt widgets table org eclipse swt widgets tree workbench level composite combines checkbox tree viewer checkbox list viewer all viewer selection driven interactions handled object checkbox tree and list group event manager check state listener selection changed listener tree viewer listener object root object current tree selection list expanded tree nodes array list map checked state store hash map list white checked tree items array list tree content provider tree content provider structured content provider list content provider label provider tree label provider label provider list label provider widgets checkbox tree viewer tree viewer checkbox table viewer list viewer create instance use constructor width height combined widget hardcode sizing dimensions dimension param parent param root object param tree content provider param tree label provider param list content provider param list label provider param style param width param height checkbox tree and list group composite parent object root object tree content provider tree content provider label provider tree label provider structured content provider list content provider label provider list label provider style width height root root object tree content provider tree content provider list content provider list content provider tree label provider tree label provider list label provider list label provider create contents parent width height style this method called window visible open determine white checked descendents root check new tree elements tree content provider elements root current tree selection null select element list object elements tree content provider elements root object primary elements length elements null primary null tree viewer set selection structured selection primary tree viewer control set focus add passed listener collection clients listen element checked param listener check state listener add check state listener check state listener listener add listener object listener add receiver ancestors checked state store add hierarchy checked store object tree element tree element gray ancestors checked state store key tree element checked state store tree element array list object parent tree content provider parent tree element parent null add hierarchy checked store parent return indicating children passed tree element white checked param tree element java lang object all children white checked object tree element object children tree content provider children tree element children length white checked tree items children false true return indicating list elements passed tree element checked param tree element java lang object all elements checked object tree element list checked elements list checked state store tree element checked elements null false list items size tree element checked elements size iterate passed elements realized time check tree viewer check new tree elements object elements elements length object current element elements checked checked state store key current element tree viewer set checked current element checked tree viewer set grayed current element checked white checked tree items current element item checked views determine view occurred delegate appropriately param event check state changed event override check state changed check state changed event event potentially operation busy cursor busy indicator while tree viewer control display event checkable equals tree viewer tree item checked event element event checked list item checked event element event checked true notify check state change listeners event lay initialize visual components param parent org eclipse swt widgets composite param width param height create contents composite parent width height style group pane composite composite composite parent style grid layout layout grid layout layout num columns layout columns equal width true layout margin height layout margin width composite set layout layout composite set layout data grid data grid data composite set font parent font create tree viewer composite width height create list viewer composite width height initialize create group list viewer create list viewer composite parent width height list viewer checkbox table viewer check list parent grid data data grid data grid data data width hint width data height hint height list viewer table set layout data data list viewer table set font parent font list viewer set content provider list content provider list viewer set label provider list label provider list viewer add check state listener create group tree viewer create tree viewer composite parent width height tree tree tree parent grid data data grid data grid data data width hint width data height hint height tree set layout data data tree set font parent font tree viewer checkbox tree viewer tree tree viewer set content provider tree content provider tree viewer set label provider tree label provider tree viewer add tree listener tree viewer add check state listener tree viewer add selection changed listener returns indicating passed tree element gray checked note method white checked tree item white checked result code true code answer method determine tree item white checked method determine should white checked object param tree element java lang object determine should white checked java lang object determine should least gray checked object tree element list items tree element checked retains gray checked status children list checked list checked state store tree element checked null checked empty true children tree element gray checked tree element remain gray checked object children tree content provider children tree element children length checked state store key children true false returns indicating passed tree item white checked param tree element java lang object determine should white checked object tree element all children white checked tree element all elements checked tree element recursively add tree elements collection white checked tree elements param tree element java lang object determine white checked descendents object tree element children white checked statuses needed determine white checked status tree element object children tree content provider elements tree element children length determine white checked descendents children determine white checked status tree element determine should white checked tree element set white checked tree element true cause tree viewer expand items expand all tree viewer expand all answer flat collection checked elements list portion java util vector iterator all checked list items list result array list iterator list collections enum checked state store values iterator list collections enum next iterator current collection list list collections enum iterator current collection next result add current collection result iterator answer collection checked elements tree portion java util vector set all checked tree items checked state store key set answer number elements checked user checked element count checked state store size return count number list items tree item param tree element java lang object list items size object tree element object elements list content provider elements tree element elements length get table list viewer org eclipse swt widgets table table list table list viewer table logically gray check ancestors tree item ensuring checked table gray check hierarchy object tree element tree element gray ancestors checked state store key tree element proceed checked state store tree element array list determine should white checked tree element set white checked tree element true object parent tree content provider parent tree element parent null gray check hierarchy parent set initial checked passed list element true param element element list select initial check list item object element object parent tree content provider parent element current tree selection parent set box updating selection false list item checked element true false update hierarchy parent set initial checked passed element true children list elements param element element tree select initial check tree item object element tree item checked element true initialize group viewers laid initialize tree viewer set input root callback invoked checked status item list changed user update hierarchy building initial list list item checked object list element updating from selection list checked list items list checked state store current tree selection checked list items null tree item checked list items tree checking updated gray check hierarchy current tree selection checked list items list checked state store current tree selection checked list items add list element checked list items remove list element checked list items empty tree item checked list items tree checking updated ungray check hierarchy current tree selection updating from selection update hierarchy current tree selection notify checked listeners passed element checked changed passed notify check state change listeners check state changed event event object array listeners array length check state listener check state listener array safe runner safe runnable override check state changed event set contents list viewer based selected tree element this includes checking list items param tree element java lang object populate list viewer object tree element list viewer set input tree element list list items check list checked state store tree element list items check null iterator list items enum list items check iterator list items enum next list viewer set checked list items enum true remove passed listener collection clients listen element checked param listener check state listener remove check state listener check state listener listener remove listener object listener handle selection item tree viewer param event selection changed event override selection changed selection changed event event structured selection selection structured selection event selection object selected element selection first element selected element null current tree selection null list viewer set input current tree selection item deselection selected element current tree selection populate list viewer selected element current tree selection selected element select deselect elements tree depending selection update displayed files param selection indicating select elements set all selections selection potentially operation busy cursor busy indicator while tree viewer control display set tree checked root selection list viewer set all checked selection set list viewer providers passed param content provider tree content provider param label provider label provider set list providers structured content provider content provider label provider label provider list viewer set content provider content provider list viewer set label provider label provider set comparator applied list viewer param comparator comparator list viewer set list comparator viewer comparator comparator list viewer set comparator comparator set root widget root regenerate tables lists param root set root object root root root initialize set checked passed tree element appropriately recursively child tree elements set tree checked object tree element tree element equals current tree selection list viewer set all checked object list items list content provider elements tree element list list items checked array list list items length list items checked add list items checked state store tree element list items checked checked state store remove tree element set white checked tree element tree viewer set checked tree element tree viewer set grayed tree element false logically check uncheck children object children tree content provider children tree element children length set tree checked children set tree viewer providers passed param content provider tree content provider param label provider label provider set tree providers tree content provider content provider label provider label provider tree viewer set content provider content provider tree viewer set label provider label provider set comparator applied tree viewer param comparator comparator tree set tree comparator viewer comparator comparator tree viewer set comparator comparator adjust collection references white checked tree elements appropriately param tree element java lang object param white checked set white checked object tree element white checked white checked white checked tree items tree element white checked tree items add tree element white checked tree items remove tree element handle collapsing element tree viewer override tree collapsed tree expansion event event don handle expansionsion element tree viewer override tree expanded tree expansion event event object item event element realized won expanded tree nodes item expanded tree nodes add item check new tree elements tree content provider children item callback invoked checked status item tree changed user tree item checked object tree element recursively adjust child tree elements appropriately set tree checked tree element object parent tree content provider parent tree element parent null update tree hierarchy gray check hierarchy parent ungray check hierarchy parent update hierarchy tree element logically gray check ancestors tree item iff ungray check hierarchy object tree element determine should least gray checked tree element checked state store remove tree element object parent tree content provider parent tree element parent null ungray check hierarchy parent set checked ancestors appropriately update hierarchy object tree element white checked determine should white checked tree element least gray determine should least gray checked tree element tree viewer set checked tree element least gray set white checked tree element white checked white checked tree viewer set grayed tree element least gray proceed tree element hierarchy object parent tree content provider parent tree element parent null update hierarchy parent update selections tree elements items reflect selections param items map object tree element values list selected list elements update selections map items potentially operation busy cursor busy indicator while tree viewer control display update store hierarchy prevent updating parents children entry list entry map object list items entry set object key entry key replace items checked store supplied items list selections entry value selections size empty remove list checked state store remove key checked state store key selections proceed tree element hierarchy object parent tree content provider parent key parent null add hierarchy checked store parent now update hierarchies entry object list entry map object list items entry set object key entry key update hierarchy key current tree selection null current tree selection equals key list viewer set all checked false list viewer set checked elements entry value array
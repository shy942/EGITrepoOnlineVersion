/Users/user/eclipse.platform.ui/tests/org.eclipse.ui.tests.harness/src/org/eclipse/ui/tests/harness/util/DisplayHelper.java
org eclipse tests harness util org eclipse swt widgets display runs event loop display link condition code true code events occurred supplied timeout between running event loop link display sleep called there caveat timeouts calling thread enter code display sleep code timeout elapses waiter time code sleep code called sleeping thread waken display helper creates instance display helper until link condition code true code timeout elapses call link display sleep event loop code timeout code event loop driven condition checked code timeout code event loop driven code display sleep code invoked param display display event loop param timeout timeout milliseconds code true code condition code true code code false code timeout elapsed wait for condition display display timeout condition holds succeed condition true timeout false driving event loop condition hold succeed spawning thread drive event queue display condition true timeout negative fail timeout false repeatedly sleep condition true timeout elapses display waiter waiter display waiter display display waiter timeout timeout state waiter start timeout condition display sleep drive event queue display condition condition condition timeout state timed out waiter condition call link display sleep event loop timeout elapsed code timeout code code timeout code event loop driven code display sleep code invoked param millis timeout milliseconds sleep millis sleep display current millis call link display sleep event loop timeout elapsed code timeout code code timeout code event loop driven code display sleep code invoked param display display event loop param millis timeout milliseconds sleep display display millis display helper override condition false wait for condition display millis call link display sleep event loop code sleep code returns timeout elapses returns code true code events processed code false code code timeout code false returned code timeout code event loop driven code display sleep code invoked param display display event loop param timeout timeout milliseconds code true code event event queue code false code event loop display display timeout timeout false timeout drive event queue display repeatedly sleep condition true timeout elapses display waiter waiter display waiter display display waiter timeout timeout state waiter start timeout events false display sleep timeout state timed out drive event queue display events true waiter events condition met order link wait for condition display timeout elapses code true code condition met code false code event loop driven condition runs event loop display param display display code display read and dispatch code returned code true code drive event queue display display events false display read and dispatch events true events until link condition code true code timeout elapses call link display sleep event loop code timeout code event loop driven condition checked code timeout code event loop driven code display sleep code invoked condition rechecked code interval code milliseconds events read queue param display display event loop param timeout timeout milliseconds param interval interval check condition milliseconds code true code condition code true code code false code timeout elapsed wait for condition display display timeout interval condition holds succeed condition true timeout false driving event loop condition hold succeed spawning thread drive event queue display condition true timeout negative fail timeout false repeatedly sleep condition true timeout elapses display waiter waiter display waiter display true current time millis system current time millis timeout timeout current time millis timeout current time millis timeout long condition waiter restart interval display sleep drive event queue display condition condition condition timeout system current time millis waiter condition
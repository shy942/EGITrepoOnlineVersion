/Users/user/eclipse.platform.ui/bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/MenuManagerRenderer.java
org eclipse workbench renderers swt java util array list java util collection java util hash map java util hash set java util iterator java util linked hash set java util list java util map java util map entry javax annotation post construct javax annotation pre destroy javax inject inject org eclipse core commands expression context org eclipse core contexts context injection factory org eclipse core contexts context function org eclipse core contexts eclipse context org eclipse core contexts run and track org eclipse core annotations optional org eclipse core services events event broker org eclipse core services log logger org eclipse event topic org eclipse internal workbench contributions analyzer org eclipse internal workbench opaque element util org eclipse internal workbench rendered element util org eclipse model application application org eclipse model application core expression org eclipse model application element container org eclipse model application element org eclipse model application label org eclipse model application basic part org eclipse model application basic window org eclipse model application menu direct menu item org eclipse model application menu dynamic menu contribution org eclipse model application menu handled menu item org eclipse model application menu menu org eclipse model application menu menu contribution org eclipse model application menu menu element org eclipse model application menu menu item org eclipse model application menu menu separator org eclipse model application menu popup menu org eclipse workbench presentation engine org eclipse workbench resource utilities org eclipse workbench events org eclipse workbench events element container org eclipse workbench swt util resource utilities org eclipse emf common util org eclipse emf ecore object org eclipse jface action abstract group marker org eclipse jface action contribution item org eclipse jface action group marker org eclipse jface action action org eclipse jface action contribution item org eclipse jface action contribution manager org eclipse jface action menu manager org eclipse jface action separator org eclipse jface action sub contribution item org eclipse jface internal menu manager event helper org eclipse jface resource image descriptor org eclipse swt org eclipse swt events dispose event org eclipse swt events dispose listener org eclipse swt widgets control org eclipse swt widgets decorations org eclipse swt widgets display org eclipse swt widgets menu org osgi service event event org osgi service event event handler create contribute menu manager renderer part renderer string identifier string labled string org eclipse jface action group marker group marker string map menu menu manager model manager hash map map menu manager menu manager model hash map map menu element contribution item model contribution hash map map contribution item menu element contribution model hash map map menu element contribution record model contribution record hash map map menu element array list contribution record shared element record hash map collection contribution manager mgr update linked hash set inject logger logger inject application application inject event broker event broker event handler item updater event handler override handle event event event ensure event menu item event property events event tags menu item menu item item model menu item event property events event tags contribution item ici contribution item model ici null string att name string event property events event tags events label equals att name events label equals att name ici update events label equals att name ici update events label equals att name events label equals att name ici update event handler label updater event handler override handle event event event ensure event menu event property events event tags menu string att name string event property events event tags menu model menu event property events event tags menu manager manager manager model manager null events label equals att name events label equals att name manager set menu text text model manager update action events label equals att name manager set image descriptor image descriptor model manager update action event handler rendered updater event handler override handle event event event object element event property events event tags string att name string event property events event tags element menu item menu item item model menu item element events element equals att name object obj item model parent obj menu menu manager parent manager menu obj item model rendered parent null model process switch parent item model contribution item ici contribution item model clear model contribution item model ici ici null parent null parent remove ici ici null ici dispose element part part part element events element equals att name tbr boolean event property events event tags tbr list menu menus menus menu menu menus menu popup menu unlink menu menu events element equals att name element menu menu menu model menu element menu manager manager manager menu model manager null visible menu model visible manager set visible visible manager parent null manager parent mark dirty schedule manager update manager parent menu model parent null menu model popup menu object data menu model transient data presentation engine data control menu menu menu menu model widget visible menu model rendered menu null menu disposed control data set menu menu visible control data set menu null element menu element menu element item model menu element element object obj contribution item model obj contribution item contribution item item contribution item obj item set visible item model visible item parent null item parent mark dirty schedule manager update item parent event handler selection updater event handler override handle event event event ensure event tool item event property events event tags menu item menu item item model menu item event property events event tags contribution item ici contribution item model ici null ici update event handler enabled updater event handler override handle event event event ensure event menu item event property events event tags menu item menu item item model menu item event property events event tags contribution item ici contribution item model ici null ici update menu manager renderer filter renderer filter post construct init event broker subscribe events label item updater event broker subscribe events label label updater event broker subscribe events item selection updater event broker subscribe events item enabled updater event broker subscribe events element rendered updater context set menu manager renderer display display context display renderer filter context injection factory menu manager renderer filter context display add filter show renderer filter display add filter hide renderer filter display add filter dispose renderer filter context set menu manager renderer filter renderer filter menu manager event helper instance set show helper context injection factory menu manager show processor context menu manager event helper instance set hide helper context injection factory menu manager hide processor context suppress warnings unchecked inject optional subscribe topic child added event topic element container event event ensure event menu item event property events event tags menu menu menu model menu event property events event tags events event object obj menu model process contents element container element obj pre destroy context disposed event broker unsubscribe item updater event broker unsubscribe label updater event broker unsubscribe selection updater event broker unsubscribe enabled updater event broker unsubscribe rendered updater context injection factory uninject menu manager event helper instance show helper context menu manager event helper instance set show helper null context injection factory uninject menu manager event helper instance hide helper context menu manager event helper instance set hide helper null context remove menu manager renderer filter display display context display display null display disposed renderer filter null display remove filter show renderer filter display remove filter hide renderer filter display remove filter dispose renderer filter renderer filter null context injection factory uninject renderer filter context renderer filter null context remove menu manager renderer override object create widget element element object parent element menu null menu menu model menu element menu menu null menu manager menu manager null menu bar false parent decorations element container element object element container container window menu manager manager menu model menu manager null menu manager menu manager menu model element link model manager menu model menu manager menu menu manager create menu bar decorations parent decorations parent set menu bar menu menu set data menu manager menu bar true menu manager manager menu model menu manager null menu manager menu manager menu model element link model manager menu model menu manager menu menu manager create context menu control parent correct parent control parent set menu menu menu set data menu manager parent menu object data menu parent data logger debug exception trying render menu menu model parent null parent control menu manager manager menu model menu manager null menu manager menu manager menu model element link model manager menu model menu manager menu menu manager create context menu control parent control parent set menu menu element popup menu element visible object data container element data control parent equals data control parent set menu menu menu set data menu manager menu manager null menu manager remove all when shown process contributions menu model menu model element menu bar menu model popup menu menu null menu add dispose listener dispose listener override widget disposed dispose event clean menu model menu manager manager manager menu model manager null manager mark dirty menu param menu model clean menu menu model menu element child element menu model children child element menu clean menu child element collection contribution record vals model contribution record values list contribution record disposed records array list contribution record record vals array contribution record vals size record menu model menu model record dispose menu element copy record generated elements clean copy record copy menu element copy record shared elements clean copy record copy record generated elements clear record shared elements clear disposed records add record iterator entry menu element contribution record iterator model contribution record entry set iterator iterator next entry menu element contribution record entry iterator contribution record record entry value disposed records record iterator remove clean copy contribution record record menu element copy model contribution record remove copy copy menu menu menu copy menu copy clean menu copy menu manager copy manager manager menu copy clear model manager menu copy copy manager copy manager null record manager for model remove copy manager copy manager dispose contribution item ici contribution copy clear model contribution copy ici ici null record manager for model remove ici param menu model param menu bar param popup process contributions menu menu model string element menu bar popup element null array list menu contribution contribute array list contributions analyzer xgather menu contributions menu model application menu contributions element contribute null popup generate contributions menu model contribute menu bar menu element element menu model children element menu process contributions menu element element element false popup param menu model param contribute generate contributions menu menu model array list menu contribution contribute menu bar hash set string existing menu ids hash set hash set string existing separator names hash set menu element child menu model children string element child element child menu element null existing menu ids add element child menu separator element null existing separator names add element menu manager manager manager menu model contribute size array list menu contribution cur list array list contribute retry count contribute size contribute clear menu contribution menu contribution cur list process addition menu model manager menu contribution existing menu ids existing separator names menu bar contribute add menu contribution retry list empty list hasn changed hope contribute size contribute size retry count param menu model param manager param menu contribution true menu contribution processed process addition menu menu model menu manager manager menu contribution menu contribution hash set string existing menu ids hash set string existing separator names menu bar contribution record record contribution record menu model menu contribution record merge into model false menu bar part menu menu model eclipse context parent context context menu model parent context and track run and track override changed eclipse context context record update visibility parent context active leaf schedule manager update manager true true part menu menu menu model tracked separate run and track menu model popup menu object menu model container part array list contribution record array list array list contribution record list menu element item array list contribution record tmp shared element record item tmp null tmp tmp add record menu element item contribution record rec array list contribution record tmp shared element record item tmp null tmp array list shared element record item tmp tmp add rec remove record menu element item contribution record rec array list contribution record tmp shared element record item tmp null tmp remove rec tmp empty shared element record remove item remove menu contributions menu menu model array list menu element menu contributions remove menu element item menu contributions remove menu model children remove item item menu remove menu contribution menu item ensure menu contribution removed nested menus contributions removed param menu model remove menu contribution menu menu model clear model contribution menu model model contribution menu model menu model children null menu element child menu model children child menu remove menu contribution menu child clear model contribution child model contribution child override process contents element container element container null lists empty container null direct violation good programming menu manager parent manager manager menu object container parent manager null process contents newly created list element parts container children parts null element plist parts array element parts size plist length element child plist model process switch parent manager menu element child schedule manager update parent manager add manager menu manager parent manager menu element model contribution item menu manager element container element parent model parent technically shouldn happen parent null parent manager add menu manager parent children model shouldn safe parent manager size parent manager add menu manager parent manager insert menu manager param parent manager param menu model process menu menu manager parent manager menu menu model menu manager menu manager manager menu model menu manager null menu model set renderer string menu text text menu model image descriptor desc image descriptor menu model menu manager menu manager menu text desc menu model element link model manager menu model menu manager menu manager set visible menu model visible add manager parent manager menu model menu manager process contributions menu model false list menu element parts menu model children parts null menu element plist parts array menu element parts size plist length menu element child plist model process switch menu manager child param menu manager param child model process switch menu manager menu manager menu element child child rendered rendered element util rendered menu item child menu item item model menu item child process rendered item menu manager item model opaque element util opaque menu item child menu item item model menu item child process opaque item menu manager item model child handled menu item handled menu item item model handled menu item child process handled item menu manager item model child direct menu item direct menu item item model direct menu item child process direct item menu manager item model null child menu separator menu separator sep menu separator child process separator menu manager sep child opaque menu running child menu menu item model menu child process menu menu manager item model child dynamic menu contribution dynamic menu contribution item model dynamic menu contribution child process dynamic menu contribution menu manager item model param parent manager param item model process rendered item menu manager parent manager menu item item model contribution item ici contribution item model ici null item model set renderer object obj rendered element util contribution manager item model obj context function eclipse context lcl context context item model ici contribution item context function obj compute lcl context null rendered element util set contribution manager item model ici obj contribution item ici contribution item obj happy ici set visible item model visible add manager parent manager item model ici link model contribution item model ici process opaque item menu manager parent manager menu item item model contribution item ici contribution item model ici null item model set renderer object obj opaque element util opaque item item model obj contribution item ici contribution item obj ici set visible item model visible add manager parent manager item model ici link model contribution item model ici param menu manager param item model process separator menu manager menu manager menu separator item model contribution item ici contribution item model ici null item model set renderer abstract group marker marker null item model tags item model visible item model element null marker group marker item model element marker separator marker set item model element marker null add manager menu manager item model marker link model contribution item model marker param parent manager param item model param process direct item menu manager parent manager direct menu item item model string contribution item ici contribution item model ici null item model set renderer eclipse context lcl context context item model direct contribution item context injection factory direct contribution item lcl context set model item model set visible item model visible add manager parent manager item model link model contribution item model param menu manager param item model process dynamic menu contribution menu manager menu manager dynamic menu contribution item model contribution item ici contribution item model ici null item model set renderer dynamic contribution contribution item dynamic contribution contribution item item model add manager menu manager item model link model contribution item model param parent manager param item model process handled item menu manager parent manager handled menu item item model contribution item ici contribution item model ici null item model set renderer eclipse context lcl context context item model handled contribution item context injection factory handled contribution item lcl context set model item model set visible item model visible add manager parent manager item model link model contribution item model string text menu menu model string text menu model localized label text null text length text image descriptor image descriptor label element eclipse context local context context string icon element icon icon null icon length resource utilities res utils resource utilities local context resource utilities name res utils image descriptor from create icon null menu manager manager menu model model manager model menu menu model menu manager manager manager model manager link model manager menu model menu manager manager model manager model manager manager model manager model clear model manager menu model menu manager manager menu element element model children contribution item ici contribution element clear model contribution element ici model manager remove model manager model remove manager contribution item contribution menu element model model contribution model menu element menu element contribution item item contribution model item link model contribution menu element model contribution item item model contribution model item contribution model item model clear model contribution menu element model contribution item item model contribution remove model contribution model remove item contribution record contribution record menu element element model contribution record element link element contribution record menu element element contribution record record model contribution record element record search records testing look don touch array active contribution records contribution record contribution records hash set contribution record records hash set model contribution record values records array contribution record records size override eclipse context context element context param menu manager param menu model reconcile manager model menu manager menu manager menu menu model list menu element model children menu model children hash set menu item model items hash set hash set menu menus hash set hash set menu separator seps hash set menu element item model model children opaque element util opaque menu separator item model seps add menu separator item model opaque element util opaque menu item item model model items add menu item item model opaque element util opaque menu item model menus add menu item model contribution item items menu manager items src dest src items length src dest contribution item item items src item sub contribution item wrapped contribution item item sub contribution item item inner item item menu manager menu manager child manager menu manager item menu child model menu model child manager child model null menu legacy model opaque element util create opaque menu legacy model set element child manager legacy model set visible child manager visible legacy model set label child manager menu text link model manager legacy model child manager opaque element util set opaque item legacy model child manager model children size dest model children add dest legacy model model children add legacy model reconcile manager model child manager legacy model opaque element util opaque menu child model menus remove child model model children size dest model children dest child model model children remove child model model children add dest child model model children add child model child model popup menu popup menu child model context null eclipse context lcl context context menu model lcl context null popup menu child model set context lcl context create child child model element child model children size child manager size reconcile manager model child manager child model item separator item group marker menu element menu element menu element item menu element null menu separator legacy sep opaque element util create opaque menu separator legacy sep set element item legacy sep set visible item visible opaque element util set opaque item legacy sep item link model contribution legacy sep item model children size dest model children add dest legacy sep model children add legacy sep opaque element util opaque menu separator menu element menu separator legacy sep menu separator menu element seps remove legacy sep model children size dest model children dest legacy sep model children remove legacy sep model children add dest legacy sep model children add legacy sep menu element menu element menu element item menu element null menu item legacy item opaque element util create opaque menu item legacy item set element item legacy item set visible item visible opaque element util set opaque item legacy item item link model contribution legacy item item model children size dest model children add dest legacy item model children add legacy item opaque element util opaque menu item menu element menu item legacy item menu item menu element model items remove legacy item model children size dest model children dest legacy item model children remove legacy item model children add dest legacy item model children add legacy item model items empty model children remove all model items menu item model model items contribution item ici contribution item opaque element util opaque item model clear model contribution model ici menus empty model children remove all menus menu menu menus menu manager manager manager menu clear model manager menu manager seps empty model children remove all seps menu separator model seps contribution item item contribution item opaque element util opaque item model clear model contribution model item param menu manager param element param eval context update visibility menu manager menu manager menu element element expression context eval context current element visible visible true evaluated false element persisted state null evaluated true string identifier element persisted state object eval context eclipse context identifier boolean visible boolean value visible element visible when core expression evaluated true visible contributions analyzer visible core expression element visible when eval context evaluated visible current element set visible visible menu manager mark dirty clean dynamic menu contributions link dynamic menu contribution application model elements param menu manager param menu model param dump remove dynamic menu contributions menu manager menu manager menu menu model array list menu element dump remove menu contributions menu model dump menu element menu element dump contribution item ici contribution menu element ici null menu element menu menu menu element menu menu element ici manager menu element clear model manager menu element menu manager ici clear model contribution menu model ici menu manager remove ici clear model contribution menu element ici remove dynamic contribution items model menu manager param menu manager param menu model suppress warnings unchecked remove dynamic menu contributions menu manager menu manager menu menu model menu element menu element hash set model contribution key set menu element dynamic menu contribution find dynamic menu elements menu manager contribution item contribution item model contribution menu element contribution item dynamic contribution contribution item dynamic contribution contribution item dynamic contribution item dynamic contribution contribution item contribution item dynamic contribution item parent menu manager dynamic contribution item parent equals menu manager remove dynamically created menu elements array list menu element child elements array list menu element menu element transient data menu manager show processor child elements null remove dynamic menu contributions menu manager menu model child elements unlink menu menu menu list menu element children menu children menu element child children child menu unlink menu menu child contribution item contribution contribution child clear model contribution child contribution menu manager manager menu clear model manager menu schedule manager update contribution manager mgr bug avoid repeatedly updating menu managers this workaround opt workaround enabled boolean boolean eclipse workaround bug workaround enabled mgr update false mgr update mgr update empty display display context display display null display disposed display timer exec runnable override collection contribution manager update linked hash set mgr update update add all mgr update mgr update clear contribution manager mgr update mgr update false mgr update add mgr
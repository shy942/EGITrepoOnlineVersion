/Users/user/eclipse.platform.ui/bundles/org.eclipse.ui.ide/src/org/eclipse/ui/internal/views/markers/MarkerResourceUtil.java
org eclipse internal views markers java util arrays java util collection java util hash set java util iterator java util set org eclipse core resources file org eclipse core resources project org eclipse core resources resource org eclipse core resources workspace root org eclipse core resources resources plugin org eclipse core resources mapping resource mapping org eclipse core resources mapping resource mapping context org eclipse core resources mapping resource traversal org eclipse core runtime adapters org eclipse core runtime core exception org eclipse core runtime adaptable org eclipse core runtime null progress monitor org eclipse internal ide policy org eclipse internal util util org eclipse views markers internal marker type org eclipse views markers internal marker types model org eclipse views tasklist task list resource adapter resource helper markers view code author hitesh soliwal marker resource util project project optimally resources applicable current filters smaller resources specific filtering processing collection resource collect markers enabled filters account set resource compute resources resource selected resources collection marker field filter group enabled filters filters workspace root root resources plugin workspace root enabled filters null enabled filters size hash set resource set hash set set add root set set resource resource set filters resources filters anded enabled filters selected resources root resources filters ored enabled filters selected resources root remove duplicates trim parent resources root resource set optimization side compute common parents remove duplicates collect markers flag effectively children resource duplicates param root param resource set set set resource trim parent resources workspace root root set resource resource set resource set empty resource set size resource set resource set root resource set clear resource set add root resource set object clones resource set array clones length resource resource resource clones iterator resource iterator resource set iterator iterator next resource res remove iterator res remove equals root resource set clear resource set add root resource set resource equals res remove resource full path prefix res remove full path iterator remove resource set since filter set resources computing markers filters individually ring markers save good amount system resources red gathering phase removing duplicates param enabled filters param root set set resource resources filters ored collection marker field filter group enabled filters resource selected resources workspace root root enabled filters null enabled filters size hash set resource set hash set set add root set set resource resource set hash set iterator marker field filter group filters iterator enabled filters iterator filters iterator next marker field filter group group filters iterator set resource set resources for filter group selected resources root resource set add all set resource set root set hash set set add root set resource set method time consuming performs circuit operation resources quick note this optimization red resources let filter workspace scope scope selected element now computed markers ring resources compute markers entire workspace filters markers intersection resources filter scope spend system resources gathering filtering ded scopes resources save good amount system resources phases param enabled filters param selected resources param root set set resource resources filters anded collection marker field filter group enabled filters resource selected resources workspace root root enabled filters null enabled filters size hash set resource set hash set set add root set set resource resource set hash set iterator marker field filter group filters iterator enabled filters iterator set resource remove main hash set filters iterator next marker field filter group group filters iterator set resource set resources for filter group selected resources root resource set empty time resource set add all set iterator resource res iterator resource set iterator res iterator next remove true resource main res res iterator iterator resource iterator set iterator iterator next remove resource grp res iterator remove grp res equals main res remove grp res full path prefix main res full path remove false remove main res full path prefix grp res full path remove false remove main add main res remove res iterator remove iterator resource iterator set iterator iterator next remove true resource grp res iterator res iterator resource set iterator res iterator next remove resource main res res iterator remove grp res equals main res remove main res full path prefix grp res full path remove false remove iterator remove resource set add all set resource set remove all remove main remove main clear resource set empty empty resource set resource set get resources filter scope param group param selected resources param root set resource resources for filter marker field filter group group resource selected resources workspace root root hash set resource resource set hash set group scope marker field filter group resource set add root marker field filter group marker field filter group selected resources length resource set add selected resources marker field filter group resource resources projects selected resources resources length resource set add resources marker field filter group group refresh resource resources group resources working set resources length resource set add resources resource set returns set projects set resources param resources project project projects resource resources resources null collection project projects projects collection resources projects array project projects size return projects elements param elements collection resource resource mapping collection project collection project projects collection object elements hash set project projects hash set idx idx elements length idx elements idx resource projects add resource elements idx project project mapping projects resource mapping elements idx projects mapping projects length projects add mapping projects projects add resources resource mapping resource collection param resource collection param resource mapping add resources collection resource resource collection resource mapping resource mapping resource traversal traversals resource mapping traversals resource mapping context null progress monitor traversals length resource traversal traversal traversals resource result traversal resources result length resource collection add result core exception policy handle adapts object resource resource mapping object adapted null method link util adapter object class scheme adapting sequence instance link adaptable query task list resource adapter object try adapt resource try adapt file finally adapting resource mapping param object object adapt resource element object object resource resource null object adaptable task list resource adapter adapter adapters adapt object task list resource adapter adapter null resource adapter affected resource adaptable object resource null resource adapters adapt object resource resource null resource adapters adapt object file resource null resource mapping mapping adapters adapt object resource mapping mapping null mapping resource null gets type including list marker type ids param type ids string all sub types ids string type ids hash set marker type set all sub types type ids type strings set gets types link marker type including list marker type ids param type ids hash set marker type all sub types string type ids hash set marker type set hash set marker types model types model marker types model instance type ids length marker type type types model type type ids set add type marker type subs type all sub types subs length set add subs set gets mutually exclusive types ids list marker type ids param type ids string mutually exclusive supers ids string type ids hash set marker type set mutually exclusive supers type ids type strings set gets mutually exclusive types link marker type list marker type ids param type ids hash set marker type mutually exclusive supers string type ids hash set marker type set hash set marker types model types model marker types model instance type ids length marker type type types model type type ids set add type type ids length marker type type types model type type ids marker type subs type all sub types hash set marker type subs only hash set arrays list subs subs only remove type set remove all subs only set converts collection link marker type array marker type ids param collection string type strings collection marker type collection hash set string ids hash set iterator marker type iterator collection iterator iterator next marker type type iterator ids add type ids array string ids size
/Users/user/eclipse.platform.ui/bundles/org.eclipse.jface/src/org/eclipse/jface/viewers/TreeSelection.java
org eclipse jface viewers java util array list java util list org eclipse core runtime assert concrete implementation code tree selection code suitable instantiating this intended subclassed tree selection structured selection tree selection implementation note this structured selection pre existing face viewer clients assumed implementation structured selection structured selection extending structured selection implementing tree selection avoid problem for details bug viewers tree selection subclass structured selection tree path paths null custom hashtable element tree paths null canonical empty selection this selection code null code tree selection tree selection tree path tree path initialize data list selection tree path paths custom hashtable element tree paths initialize data tree path paths element comparer comparer paths tree path paths length system arraycopy paths paths paths length element tree paths custom hashtable comparer size paths length selection array list size size object segment paths last segment object mapped element tree paths segment mapped null selection add segment element tree paths segment paths mapped list list mapped add paths list mapped array list mapped add mapped mapped add paths element tree paths segment mapped constructs selection based elements identified tree paths param paths tree paths tree selection tree path paths initialize data paths null constructs selection based elements identified tree paths param paths tree paths param comparer comparer code null code equals tree selection tree path paths element comparer comparer initialize data paths comparer constructs selection based elements identified tree path param tree path tree path code null code empty selection tree selection tree path tree path tree path null tree path tree path null constructs selection based elements identified tree path param tree path tree path code null code empty selection param comparer comparer code null code equals tree selection tree path tree path element comparer comparer tree path null tree path tree path comparer creates tree selection based initialization data param data data tree selection initialize data data data selection paths data paths element tree paths data element tree paths creates empty selection see field code code empty selection singleton tree selection returns element comparer passed tree selection created code null code comparer element comparer code null code element comparer element comparer element tree paths null null element tree paths comparer override equals object obj obj tree selection fall implementation bug equals obj tree selection selection tree selection obj size paths length selection paths length size element comparer comparer null element comparer selection element comparer element comparer null size paths length paths equals selection paths comparer null false true false override hash code code class hash code paths null tree path path paths code code path hash code element comparer code override tree path paths paths null tree path paths clone override tree path paths for object element object element tree paths null null element tree paths element null tree path tree path tree path list list list tree path array tree path size happen assert true false unhandled null
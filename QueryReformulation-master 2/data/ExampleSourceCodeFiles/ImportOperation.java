/Users/user/eclipse.platform.ui/bundles/org.eclipse.ui.ide/src/org/eclipse/ui/wizards/datatransfer/ImportOperation.java
org eclipse wizards datatransfer java file java exception java input stream java util array list java util arrays java util iterator java util list java util zip zip entry org eclipse core filesystem util org eclipse core resources container org eclipse core resources file org eclipse core resources folder org eclipse core resources path variable manager org eclipse core resources resource org eclipse core resources workspace org eclipse core resources workspace root org eclipse core resources resource attributes org eclipse core resources resources plugin org eclipse core runtime adapters org eclipse core runtime core exception org eclipse core runtime path org eclipse core runtime progress monitor org eclipse core runtime status org eclipse core runtime multi status org eclipse core runtime operation canceled exception org eclipse core runtime path org eclipse core runtime status org eclipse core runtime sub monitor org eclipse osgi util org eclipse swt widgets shell org eclipse platform org eclipse actions workspace modify operation org eclipse dialogs container generator org eclipse dialogs overwrite query org eclipse internal wizards datatransfer data transfer messages org eclipse internal wizards datatransfer tar entry org eclipse internal wizards datatransfer tar leveled structure provider operation actual work copying objects local file system workspace this instantiated intended subclassed noextend this intended subclassed clients import operation workspace modify operation object source path destination path container destination container list selected files list rejected files import structure provider provider overwrite query overwrite callback shell context list error table array list create virtual folder false create links false create link files only false string relative variable null create container structure true constants overwrite overwrite state string absolute path creates operation recursively imports entire contents root file system object code source code parameter represents root file system object all contents object imported valid types parameter determined supplied code import structure provider code code provider code parameter operation deal source object this operation calls methods provider provider turn calls specific methods source object behavior recreate complete container structure contents root file system object destination code set create container structure code set false container structure created relative root file system object param container path full path destination container workspace param source root file system object param provider file system structure provider param overwrite implementor overwrite strategy import operation path container path object source import structure provider provider overwrite query overwrite implementor destination path container path source source provider provider overwrite callback overwrite implementor creates operation imports specific file system objects usage context source file system object operation solely determine destination container structure file system objects imported code source code parameter represents root file system object valid types parameter determined supplied code import structure provider code contents source imported code files import code parameter code provider code parameter operation deal source object this operation calls methods provider provider turn calls specific methods source object code files import code parameter specifies contents root file system object imported behavior recreate complete container structure file system objects destination code set create container structure code set code false code container structure created file system objects relative supplied root file system object param container path full path destination container workspace param source root file system object param provider file system structure provider param overwrite implementor overwrite strategy param files import list file system objects imported element type code object code import operation path container path object source import structure provider provider overwrite query overwrite implementor list files import container path source provider overwrite implementor set files import files import creates operation imports specific file system objects code provider code parameter operation deal source object this operation calls methods provider provider turn calls specific methods source object code files import code parameter specifies file system objects imported behavior recreate complete container structure file system objects destination code set create container structure code set code false code container structure created file system objects param container path full path destination container workspace param provider file system structure provider param overwrite implementor overwrite strategy param files import list file system objects imported element type code object code import operation path container path import structure provider provider overwrite query overwrite implementor list files import container path null provider overwrite implementor set files import files import prompts existing resources overwritten recursively collects existing read files overwrite resources overwritten param source start destination path check existing files param sources file system objects exist destination param overwrite files selected skipped don overwrite object type path param overwrite readonly collected existing read files overwrite object type path param policy constants defined collect existing readonly files path source start list sources array list overwrite array list overwrite readonly policy progress monitor monitor sub monitor monitor sub monitor convert monitor workspace root workspace root resources plugin workspace root iterator source iter sources iterator path source root path null source null source root path path provider full path source source iter next object source source iter path source path path provider full path source path destination path resource destination source root path null destination path source start append provider label source prefix length source path matching first segments source root path path relative source path source path remove first segments prefix length destination path destination path append relative source path destination workspace root find member destination path destination null folder folder folder destination folder null policy overwrite state query overwrite destination path overwrite add folder provider folder source collect existing readonly files destination path provider children source overwrite overwrite readonly monitor split file file file destination file null query overwrite file file policy overwrite add file full path file read only overwrite readonly add file creates folders resource path these folders created relative destination container param path relative path resource container resource coresponding path exception core exception method failed container create containers for path path core exception container current folder destination container segment count path segment count containers create segment count current folder needs handles differently root current folder type resource create from root path segment count current folder current folder folder path path segment current folder exists create virtual folder folder current folder create resource true null create links folder current folder create link create relative path path current folder null folder current folder create false true null current folder creates folders resource path assuming destination container root create projects param path relative path resource container resource coresponding path exception core exception method failed container create from root path path core exception segment count path segment count assume project exists container current folder workspace root destination container project path segment segment count current folder current folder folder path path segment current folder exists folder current folder create false true null current folder deletes resource resource fails deleted adds status object list returned code result code param resource resource delete resource resource resource resource delete resource null core exception error table add status override execute progress monitor progress monitor sub monitor monitor sub monitor convert progress monitor data transfer messages data transfer task selected files null container generator generator container generator destination path monitor worked validate files arrays list object source monitor split destination container generator generate container monitor split recursively from source monitor split choose selected files size folders account container generator generator container generator destination path monitor worked validate files selected files monitor split destination container generator generate container monitor split file system objects selected files monitor split core exception error table add status returns container resource passed file system object imported param file system object file system object imported container resource passed file system object imported exception core exception method failed container destination container for object file system object core exception path pathname path provider full path file system object create container structure create containers for pathname remove last segments source file system object null path source path path provider full path source path dest container path pathname remove last segments path relative path dest container path remove first segments source path segment count set device null create containers for relative path returns resource casted adapted file param resource resource cast adapt resource casted adapted file code null code resource adapt file file file resource resource adapters adapt resource file returns resource casted adapted folder param resource resource cast adapt resource casted adapted folder code null code resource adapt folder folder folder resource resource check adapters adapt resource folder returns rejected files based multi status param multi status multi status determine file rejection param files source files list rejected files absolute paths object type path array list rejected files status multi status file files array list filtered files array list status status multi status children status length status false error table add status filtered files add files full path filtered files returns status operation errors result status object individual status objects error errors result status object error code code code status status status status errors status error table size error table array errors multi status platform status errors data transfer messages import operation problems null imports file system object workspace fails adds status object list returned code result code param file object file system object imported param policy determines file object imported file object file object policy progress monitor mon sub monitor monitor sub monitor convert mon container container resource container resource destination container for file object core exception status core status status string message bind data transfer messages import operation core import error file object core status message status status status core status severity core status plugin core status code message null error table add status string file object path provider full path file object monitor task file object path file target resource container resource file path provider label file object rejected files target resource full path ensure source target path target path target resource location use files comparison avoid platform specific issues target path null target path file equals file file object path error table add status status platform bind data transfer messages import operation target same source error file object path null input stream content stream provider contents file object content stream null error table add status status platform bind data transfer messages import operation open stream error file object path null create virtual folder create links create link files only target resource exists target resource delete true monitor split target resource create link create relative path path provider full path file object target resource monitor split target resource exists target resource linked target resource delete true monitor split target resource create content stream false monitor split target resource set contents content stream resource monitor split target resource create content stream false monitor split set resource attributes target resource file object provider tar leveled structure provider target resource set resource attributes tar leveled structure provider provider resource attributes file object core exception error table add status core exception error table add status content stream close exception error table add status status platform bind data transfer messages import operation close stream error file object path reuse file attributes set param target resource param file object set resource attributes file target resource object file object time stamp file object file target resource set resource attributes resource attributes file file file object time stamp file file object modified core exception error table add status file object tar entry target resource set resource attributes tar leveled structure provider provider resource attributes file object tar entry time secs convert msecs time stamp tar entry file object time core exception error table add status file object zip entry zip time stamp zip entry file object time zip time stamp time stamp zip time stamp time stamp target resource set local time stamp time stamp core exception error table add status imports file system objects workspace fails adds status object list returned code status code param files import list file system objects element type code object code core exception exception operation canceled exception canceled file system objects list files import progress monitor monitor core exception sub monitor monitor sub monitor convert monitor files import size iterator files enum files import iterator files enum next sub monitor iteration monitor monitor split object file system object files enum source null destination path source path path provider full path file system object remove last segments provider folder file system object source path empty don parent selected file systems root roots copied windows error table add status status platform data transfer messages import operation copy null source source path file recursively from file system object iteration monitor imports file system container object workspace fails adds status object list returned code result code param folder object file system container object imported param policy determines folder object children imported policy folder children core exception folder object folder object policy progress monitor monitor core exception container container resource container resource destination container for folder object core exception error table add status policy container resource null policy monitor task provider full path folder object workspace workspace destination container workspace path container path container resource full path path resource path container path append provider label folder object importing zip file resource path equals container path policy workspace root exists resource path rejected files resource path folder folder workspace root folder resource path create virtual folder create links folder virtual folder linked folder delete true null create virtual folder workspace root folder resource path create resource true null create links folder folder workspace root folder resource path folder create link create relative path path provider full path folder object folder null policy workspace root folder resource path create false true null core exception error table add status policy transform absolute path relative path foo bar file txt file txt granted relative variable points foo bar param location param resource relative variable path create relative path path location resource resource relative variable null location relative variable equals location path variable manager path variable manager resource path variable manager util path path variable manager convert relative util location true relative variable core exception location imports file system object recursively workspace fails adds status object list returned code status code param file system object file system object imported param policy determines file system object children imported core exception exception operation canceled exception canceled recursively from object file system object policy progress monitor mon core exception sub monitor monitor sub monitor convert mon provider folder file system object file file system object policy monitor split child policy folder file system object policy monitor split child policy list children provider children file system object sub monitor loop monitor monitor split set work remaining children size object child children recursively from child child policy loop monitor split queries user resource path overwritten file system object imported param resource path workspace path resource overwritten code true code overwrite code false code overwrite exception operation canceled exception canceled query overwrite path resource path operation canceled exception string overwrite answer overwrite callback query overwrite resource path relative string overwrite answer equals overwrite query operation canceled exception data transfer messages data transfer empty string overwrite answer equals overwrite query false overwrite answer equals overwrite query overwrite state false overwrite answer equals overwrite query overwrite state true returns file overwritten param target file file overwrite param policy determines user queried overwrite code true code file overwritten code false code query overwrite file file target file policy force overwrite don bother policy overwrite state query overwrite target file full path false overwrite state false true sets context provider prompt user check files param shell context provider prompt user check user prompted set code null code workspace validate edit org eclipse core resources file java lang object set context shell shell context shell sets containment structures implied full paths file system objects imported duplicated workbench param code true code containers created code false code set create container structure create container structure sets file system objects param files import list file system objects imported element type code object code set files import list files import selected files files import sets imported file system objects automatically overwrite existing workbench resources conflict occurs param code true code automatically overwrite code false code set overwrite resources overwrite state validates source resources copied destination decided provider param existing files existing files validate list rejected files absolute paths object type path array list validate edit list existing files existing files size file files file existing files array file existing files size workspace workspace resources plugin workspace status status workspace validate edit files context mix bad status multi status rejected files status files status single status reject error table add status array list filtered files array list files length filtered files add files full path filtered files array list validates file system objects user prompted overwrite existing files existing read files validated provider param source files files validate validate files list source files progress monitor monitor array list overwrite array list array list overwrite readonly array list collect existing readonly files destination path source files overwrite overwrite readonly monitor rejected files validate edit overwrite readonly rejected files add all overwrite set whether groups links created files folders param virtual folders set virtual folders virtual folders create virtual folder virtual folders set whether links created files folders param links set create links links create links links set variable relative links created param variable set relative variable string variable relative variable variable
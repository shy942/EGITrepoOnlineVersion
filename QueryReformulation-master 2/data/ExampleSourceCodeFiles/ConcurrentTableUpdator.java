/Users/user/eclipse.platform.ui/bundles/org.eclipse.jface/src/org/eclipse/jface/viewers/deferred/ConcurrentTableUpdator.java
org eclipse jface viewers deferred concurrent table updator wrapper real table may accessed thread abstract virtual table table array objects elements null haven scheduled clear maps indices elements object objects object map elements object indices inverse objects array int hash map indices int hash map contains objects background thread object objects object minimum length pending flushes stack array element indices contains elements scheduled cleared only array number elements stored clear pending clears number pending clears pending clears array pending clears length pending clears array larger actual number pending clears clear last visible range range range range true iff update scheduled update scheduled true iff object disposed disposed false object holds start length allows visible range returned atomic operation range start length param param range start length runnable posted async exec schedule update real table runnable runnable update scheduled false table control disposed update table creates table updator param table real table update concurrent table updator abstract virtual table table table table cleans updator object table dispose disposed true true iff object disposed true iff dispose called disposed disposed returns visible range visible range range visible range range marks object dirty will cleared table param flush clear object flush current idx indices flush heard object bail current idx push clear current idx sets size table called background thread param total set total items total total objects length total objects length flush objects removed result resize total objects length object flush objects flush null indices remove flush min size math min objects length total object known objects object total system arraycopy objects known objects min size objects known objects schedule update pushes clear stack param clear row clear push clear clear table clear objects length flushed objects clear null mark flushed objects clear null clear pending clears length capacity math min clear pending clears capacity system arraycopy pending clears pending clears clear pending clears pending clears pending clears clear clear sets item row may called background thread schedules update param idx row change param row replace object idx waiting object object objects idx object object null indices remove object objects idx null index indices index objects index null push clear index indices idx push clear idx schedule update schedules update has update scheduled schedule update update scheduled update scheduled true table control disposed table control display async exec runnable called thread set data callback refreshes table returns true iff refresh needed param include index included visible range check visible range include index start math min table top index include index length math max table visible item count include index start range range start start length length update table updates table sends unsent items visible range table clears visible items table must called thread update table resize table objects length objects length object sent objects object objects length system arraycopy sent objects objects math min sent objects length objects length objects sent objects table set item count sent objects length compute visible range start math min table top index objects length length math min table visible item count objects length start item count table item count start range start len range length store visible range sending table clear calls clearing visible row result set data callback table update visible range stored values infinite recursion range range start length clear items range filled idx idx len idx row idx start item longer visible row item count row start row start length objects row null table clear row process pending clears clear clear row pending clears row objects length table clear row pending clears length pending clears clear send unsent items visible range idx idx length idx row idx start object obj objects row obj null obj objects idx table replace obj row objects idx obj return array objects background thread array objects object known objects objects
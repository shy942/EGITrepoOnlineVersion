/Users/user/eclipse.platform.ui/examples/org.eclipse.jface.examples.databinding/src/org/eclipse/jface/examples/databinding/contentprovider/test/AsynchronousTestSet.java
org eclipse jface examples databinding contentprovider test java util array list java util collection java util collections java util hash set java util iterator java util list java util random java util set org eclipse core databinding observable diffs org eclipse core databinding observable set observable set org eclipse swt widgets display test set simulates asynchronously computed elements elements set randomly generated integers whenever recompute method called set spin job sleeps period time randomly adds removes elements set this simulates set wraps database query network communication these follow pattern report set stale perform slow operation set asynchronous test set observable set object random random number generator random display display stale false average number elements add remove average computation time time simulated work list undisposed asynchronous test set instances used recompute all method list object sets array list asynchronous test set hash set object display display current display null illegal state exception this object created thread recompute override listener added listener added sets add override listener removed sets remove listener removed recompute all iterator object iter sets iterator iter next asynchronous test set asynchronous test set iter recompute remove collection object remove set object removed hash set removed add all remove removed retain all wrapped set wrapped set remove all removed fire set change diffs create set diff collections removed override stale stale recompute stale set stale true sleep time random number generator double thread thread thread runnable override simulate work sleeping thread sleep sleep time interrupted exception add remove elements fire events thread display async exec runnable override set object add hash set set object remove hash set compute elements add remove basically fills add remove sets random elements delta random number generator int extra adds random number generator int add count delta extra adds remove count delta extra adds add count add count add add integer random number generator int remove count iterator object elements wrapped set iterator remove count elements next remove add elements add remove all wrapped set wrapped set add all add wrapped set remove all remove set stale false fire set change diffs create set diff add remove thread start
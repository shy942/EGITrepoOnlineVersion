/Users/user/eclipse.platform.ui/bundles/org.eclipse.ui.forms/src/org/eclipse/ui/forms/widgets/TableWrapLayout.java
org eclipse forms widgets java util enumeration java util hashtable java util vector org eclipse swt org eclipse swt graphics point org eclipse swt graphics rectangle org eclipse swt widgets composite org eclipse swt widgets control org eclipse swt widgets layout this implementation layout algorithm attempts position controls composite pass autolayout table algorithm recommended specification http org html appendix notes html main differences grid layout passes width height calculated pass advantage algorithm grid layout capable flowing text controls capable wrap these controls natural preferred size instead capable providing required height width set consequently algorithm calculates widths assigned columns passes widths controls calculate height when composite layout child scrolling composite interact reduction scrolling composite width reflow increase height columns expandable wrappable controls result grid layout difference layouts controls minimum maximum widths table wrap data table wrap layout layout layout extension number columns positioning children num columns left margin variable left margin right margin variable margin top margin variable top margin botom margin variable bottom margin horizontal spacing horizontal spacing vertical spacing vertical spacing set code true code columns width otherwise column widths computed based controls layout data code false code columns equal width false initial layout true vector table wrap data grid hashtable control row span rowspans min column widths max column widths widest column width growing columns growing rows layout cache cache layout cache row span control child row height total height row span control child column row child child row row updates row span height span update current row row height table wrap data table wrap data child layout data current row span current row row current row row rowspan total height row height current row row total height vertical spacing required height increase total height height height total height implements layout extension should called layout extension override compute minimum width composite parent changed control children parent children changed cache flush cache set controls children changed true initialize needed parent changed initial layout changed true initial layout false grid null changed changed true grid vector create grid parent min column widths null min column widths num columns num columns min column widths internal get minimum width parent changed implements layout extension should called layout extension override compute maximum width composite parent changed control children parent children changed cache flush cache set controls children changed true initialize needed parent changed initial layout changed true initial layout false grid null changed changed true grid vector create grid parent max column widths null max column widths num columns num columns max column widths internal get maximum width parent changed layout layout composite override layout composite parent changed rectangle client area parent client area control children parent children changed cache flush children length cache set controls children parent width client area width changed true initialize needed parent changed initial layout changed true initial layout false grid null changed changed true grid vector create grid parent reset column widths min width internal get minimum width parent changed max width internal get maximum width parent changed table width parent width column widths parent width min width table width min width columns equal width column widths num columns num columns column widths widest column width column widths min column widths parent width max width growing columns length table width max width column widths max column widths column widths num columns extra parent width max width col extra extra growing columns length num columns column widths max column widths growing column column widths col extra column widths num columns columns equal width col space table width left margin margin col space num columns horizontal spacing col col space num columns num columns column widths col column widths assign extra space table width max width min width top margin client area row heights compute row heights children column widths changed grid size row height row heights left margin client area table wrap data row grid element num columns table wrap data row item data control child children child index place control child row heights column widths num columns horizontal spacing row height vertical spacing compute row heights control children column widths changed row heights grid size grid size table wrap data row grid element row heights num columns table wrap data row item data false control child children child index span colspan cwidth span cwidth column widths span cwidth horizontal spacing point size compute size child index cwidth indent max width max height comp width cwidth height hint size point size height hint comp size size row span rowspan rowspans child rowspan null row heights math max row heights size rowspan height size update row spans row heights enumeration row span enm rowspans elements enm more elements row span rowspan enm element increase rowspan required height increase increase table wrap data table wrap data rowspan child layout data ngrowing rows grid size growing row growing rows growing row rowspan row growing row rowspan row rowspan rows ngrowing growing row ngrowing ngrowing rows rowspan row rowspan increase increase ngrowing row increase increase ngrowing ngrowing growing row rows row heights growing row row increase row heights growing column col growing columns null false growing column growing columns col growing column true false assign extra space table width max width min width fixed part left margin margin num columns horizontal spacing max width min width table width min width widths num columns rem num columns cmin min column widths cmax max column widths cmax cmin extra num columns widths cmin extra rem widths widths table width fixed part rem widths point compute size child index width indent max width max height width arg width indent size cache control cache cache cache child index wrap control cache control width arg point size control cache compute size width arg max width size math min size max width max height size math min size max height size indent size place control control control table wrap data row heights row xloc indent yloc height comp size col width comp width indent width comp size indent width math min width col width slot height row heights row row span rowspan rowspans control rowspan null slot height row row rowspan row slot height vertical spacing slot height row heights align horizontally align table wrap data xloc col width width align table wrap data xloc col width width align table wrap data width col width align vertically valign table wrap data yloc slot height height valign table wrap data yloc slot height height valign table wrap data height slot height control set bounds xloc yloc width height create grid composite composite row column row fill column fill control children table wrap data spacer spec vector integer growing cols vector vector integer growing rows vector rowspans hashtable children composite children children length grid add element create empty row row column grid placement occurs left top bottom row children length find spot grid control child children table wrap data spec table wrap data child layout data grid element row column null column column column num columns row row column row grid size grid add element create empty row row column spec colspan num columns grid add element create empty row row row column add rows grid spec rowspan rowspans child row span child column row spec rowspan row grid size grid add element create empty row store layout spec also cache child index that assume children composite maintained order created composite grid element row column spec spec child index spec grab horizontal update growing columns growing cols spec column spec grab vertical update growing rows growing rows spec row put spacers grid account item vertical horizontal span row fill spec rowspan column fill spec colspan row fill spec colspan spacer spec table wrap data spacer spec item data false grid element row column spacer spec column fill spec rowspan spacer spec table wrap data spacer spec item data false grid element row column spacer spec column column spec colspan fill empty grid cells spacers column num columns spacer spec table wrap data spacer spec item data false grid element row spacer spec row grid size spacer spec table wrap data spacer spec item data false grid element column spacer spec growing columns growing cols size growing cols size growing columns growing cols value growing rows growing rows size growing rows size growing rows growing rows value update growing columns vector integer growing columns table wrap data spec column column column spec colspan growing columns size integer col growing columns col value column growing columns add integer column update growing rows vector integer growing rows table wrap data spec row row row spec rowspan growing rows size integer irow growing rows irow value row growing rows add integer row table wrap data create empty row table wrap data row table wrap data num columns num columns row null row layout compute size composite override point compute size composite parent hint hint changed control children parent children changed cache flush children length point cache set controls children parent width hint changed true initialize needed parent changed initial layout changed true initial layout false grid null changed changed true grid vector create grid parent reset column widths min width internal get minimum width parent changed max width internal get maximum width parent changed hint parent width max width table width parent width column widths parent width min width table width min width columns equal width column widths num columns num columns column widths widest column width column widths min column widths parent width max width columns equal width column widths num columns col space parent width left margin margin col space num columns horizontal spacing col col space num columns num columns column widths col table width max width column widths max column widths column widths num columns columns equal width col space table width left margin margin col space num columns horizontal spacing col col space num columns num columns column widths col column widths assign extra space table width max width min width total height height compute widths grid size table wrap data row grid element assign widths calculate heights row height num columns table wrap data row item data false control child children child index span colspan cwidth span cwidth horizontal spacing cwidth column widths height hint point size compute size child index cwidth indent max width max height size row span rowspan rowspans child rowspan null don height child acount spans multiple rows rowspan height row height math max row height update row spans row height height vertical spacing height row height rowspans empty height compensate for row spans height total height top margin height bottom margin point table width total height update row spans row row height rowspans null rowspans size enumeration row span enm rowspans elements enm more elements row span rowspan enm element rowspan update row row height compensate for row spans total height enumeration row span enm rowspans elements enm more elements row span rowspan enm element total height rowspan required height increase total height internal get minimum width composite parent changed changed calculate minimum column widths parent true calculate column widths parent min column widths false true columns equal width minimum width widest column width columns equal width num columns widest column width math max widest column width min column widths num columns minimum width horizontal spacing columns equal width minimum width widest column width minimum width min column widths add margins minimum width left margin margin minimum width internal get maximum width composite parent changed changed calculate maximum column widths parent true calculate column widths parent max column widths true true columns equal width maximum width num columns maximum width horizontal spacing maximum width max column widths add margins maximum width left margin margin maximum width reset column widths min column widths null min column widths num columns max column widths null max column widths num columns num columns min column widths num columns max column widths calculate column widths composite parent column widths max changed columns equal width pass needed false widest column width grid size table wrap data row grid element num columns table wrap data row item data false colspan controls multiple column span increment pass needed true colspan size cache child cache cache cache child index width max child cache compute maximum width child cache compute minimum width max width width math min width max width width indent column widths math max column widths width widest column width math max widest column width column widths columns equal width num columns column widths widest column width pass needed second pass controls multi column horizontal span grid size table wrap data row grid element num columns table wrap data row item data false colspan size cache child cache cache cache child index width max child cache compute maximum width child cache compute minimum width max width width math min width max width width indent check current width support control add delta column growing columns current colspan current horizontal spacing current column widths width current ndiv growing columns null colspan growing column ndiv ndiv add delta column column widths colspan width current distribute delta growing columns percolumn width current ndiv width current ndiv percolumn colspan growing column column widths percolumn wrap control control control composite composite control layout layout extension true control style initialize needed composite parent changed changed initial layout true initial layout initialize layout data parent initial layout false initialize layout data composite composite control children composite children control child children child layout data null child set layout data table wrap data
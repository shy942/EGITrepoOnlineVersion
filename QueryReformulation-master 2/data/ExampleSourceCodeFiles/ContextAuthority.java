/Users/user/eclipse.platform.ui/bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/contexts/ContextAuthority.java
org eclipse internal contexts java util array list java util collection java util hash map java util hash set java util iterator java util list java util map java util set java util weak hash map org eclipse core commands contexts context manager org eclipse core commands util tracing org eclipse core expressions expression org eclipse core runtime assert org eclipse swt events dispose event org eclipse swt events dispose listener org eclipse swt widgets shell org eclipse active shell expression org eclipse sources org eclipse contexts context activation org eclipse contexts context service org eclipse internal misc policy org eclipse internal services expression authority central authority deciding activation contexts this authority listens variety incoming sources updates underlying context manager occur context authority expression authority size set activations recompute this cover average whether context authority kick debugging mode this unresolvable handler conflicts printed console policy whether performance printed performance context authority policy data tag dispose listener string org eclipse internal contexts context authority component print displaying tracing string bucket sort context activations based source priority each activation set multiple sets activations defined priority level array code null code set activations source priority set this map context activations code collection code code context activation code sorted context identifier code string code context activation context code collection code replaced code context activation code activation entry removed map context activations context hash map context manager updated contexts changing context manager context manager context service authority managed shell contexts this code null code context service context service this map shell list activations when shell registered map list activation submitted shell active when shell deactivated list withdrawn shell removed map link unregister shell shell method this empty code null code code null code key reserved active shells registered parent dialog service map registered windows weak hash map constructs instance code context authority code param context manager context manager contexts retrieved update active code null code param context service workbench context service authority acting this authority manage shell specific contexts this code null code context authority context manager context manager context service context service context manager null null pointer exception context authority context manager context service null null pointer exception context authority evaluation context context manager context manager context service context service activates context workbench this add master list param activation activation code null code activate context context activation activation first update context activations context map string context activation context object context activations context context collection collection context activations collection context activations activation context activations add activation update context context active context activations context activation activation collection context activations array list context activations add context activations add activation context activations context context context activations update context context active context activations context activations context context activation update context context evaluate activation next update source priority bucket sort activations source priority activation source priority source priority set activations activations source priority activations null activations hash set activations source priority activations activations add activation checks active shell registered registered work registered checks type contexts shell this determined parenting shell parent receives contexts shell parent receives dialog contexts param shell newly active shell code null code disposed param shell active shell code null code disposed check window type shell shell shell shell previous active shell recognized dialog remove submissions collection activations collection registered windows shell activations null shell wasn registered check considered dialog activations collection registered windows null activations null iterator activation itr activations iterator activation itr next context activation activation context activation activation itr deactivate context activation active shell recognized dialog create submissions remember submit processing shell null shell disposed collection activations shell parent null registered windows shell null this dialog activations array list expression expression active shell expression shell context activation dialog window activation context activation context service expression context service activate context dialog window activation activations add dialog window activation context activation dialog activation context activation context service expression context service activate context dialog activation activations add dialog activation registered windows null activations make submissions removed event disposal this paranoid check submissions code care shell add dispose listener dispose listener override widget disposed dispose event registered windows remove null shell disposed shell remove dispose listener dispose happened expecting activation event arrive point future process submissions update active shell check window type called this dialogs won recognized dialogs iterator activation itr activations iterator activation itr next deactivate context context activation activation itr shells dialogs register activations null returns subset code activations code active param activations activations trim code null code empty code true code active context code false code active collection activations iterator activation itr activations iterator activation itr next context activation activation context activation activation itr evaluate activation true false removes activation context workbench this remove master list update context param activation activation code null code deactivate context context activation activation first update handler activations command map string context activation context object context activations context context collection collection context activations collection context activations activation context activations remove activation context activations empty context activations context remove context update context context false context activations size context activation remaining activation context activation context activations iterator context activations context context remaining activation update context context evaluate remaining activation update context context active context activations context activation activation context activations context remove context update context context false next update source priority bucket sort activations source priority activation source priority source priority set activations activations source priority activations null activations remove activation activations empty activations source priority null returns active shell active shell code null code shell active shell shell variable sources returns shell type shell param shell shell type determined code null code code workbench context support code returned code workbench context support code code workbench context support code code workbench context support code shell type shell shell shell null shell null context service collection activations collection registered windows shell activations null shell registered check type registered activations empty registered context service look type context iterator activation itr activations iterator activation itr next context activation activation context activation activation itr string context activation context context context service context service context context service context service this shouldn assert true false registered shell submission matching reachable context service shell parent null shell registered parent considered dialog context service shell registered parent key bindings context service registers shell automatically promote demote basic types contexts dialogs windows contexts system this convenience method ensure contexts promoted shell active shell registered window windows context enabled shell active shell registered dialog registered parent shell dialogs context enabled shell active shell registered registered parent shell contexts enabled enabled shell registered method change registration param shell shell register key bindings code null code param type type shell registered this constants code true code shell registered registration changed code false code register shell shell shell type null shell registration reserved shell null null pointer exception shell null debugging output string buffer buffer string buffer register shell buffer append shell buffer append type context service buffer append dialog context service buffer append window context service buffer append buffer append unknown tracing print trace buffer string build list submissions list activations array list expression expression context activation dialog window activation type context service expression active shell expression shell dialog window activation context activation context service expression context service activate context dialog window activation activations add dialog window activation context activation dialog activation context activation context service expression context service activate context dialog activation activations add dialog activation context service context service expression active shell expression shell dialog window activation context activation context service expression context service activate context dialog window activation activations add dialog window activation context activation window activation context activation context service expression context service activate context window activation activations add window activation illegal argument exception type recognized type check activations value false collection previous activations collection registered windows shell previous activations null value true iterator previous activation itr previous activations iterator previous activation itr next context activation activation context activation previous activation itr deactivate context activation add submissions force reprocessing occur registered windows shell activations remember dispose listener remove unregister shell dispose listener shell dispose listener dispose listener override widget disposed dispose event registered windows remove shell shell disposed shell remove dispose listener dispose happened expecting activation event arrive point future process submissions update active shell check window type called this dialogs won recognized dialogs iterator activation itr activations iterator activation itr next deactivate context context activation activation itr make submissions removed event disposal shell add dispose listener shell dispose listener shell set data shell dispose listener value carries actual source change notification assumed time method called code context code current application param source priority bit mask source priorities changed override source changed source priority tracing track takes process activations start time start time system current time millis phase cycle activations changed each activation set future processing add set avoid handling individual activation set activations recompute hash set source priority collection activations activations source priority activations null iterator activation itr activations iterator activation itr next activations recompute add activation itr for activation recompute active check changed changed note context identifier update context collection changed context ids array list activations recompute size iterator activation itr activations recompute iterator activation itr next context activation activation context activation activation itr current active evaluate activation activation clear result active evaluate activation active current active changed context ids add activation context context manager defer updates true for context identifier changed activation resolve conflicts trigger update iterator changed context itr changed context ids iterator changed context itr next string context string changed context itr object context activations context context context activation context activation activation context activation update context context evaluate activation collection update context context active collection update context context false context manager defer updates false tracing performance print elapsed time system current time millis start time size activations recompute size size tracing print trace size activations recomputed elapsed time unregisters shell registered after method completes shell treated registered registered shell ensure method called shell disposed otherwise potential memory leak exist shell registered shell code null code method returns code false code param shell shell unregistered code null code code true code shell registered code false code unregister shell shell shell don method play special null slot shell null false unregistering shell dispose leaking dispose listener remove shell disposed dispose listener listener dispose listener shell data listener null shell remove dispose listener listener collection previous activations collection registered windows shell previous activations null registered windows remove shell iterator previous activation itr previous activations iterator previous activation itr next context activation activation context activation previous activation itr deactivate context activation true false updates context context activation param context identifier context updated code null code param active whether context active code false code update context string context active active context manager add active context context context manager remove active context context updates authority evaluation context changed variable code sources code variable triggers update shell specific contexts for dialog active dialog context activated method param variable update code null code param variable code null code variable removed override update evaluation context string object bug update active workbench window risk falling shell active shell registered null sources equals track shell activation special contexts automatically activated response types shells active sources equals check window type shell shell variable sources update evaluation context change variable bug mechanism key binding architecture force update contexts based active shell execute command this mechanism required update shell kludge update current state source changed sources
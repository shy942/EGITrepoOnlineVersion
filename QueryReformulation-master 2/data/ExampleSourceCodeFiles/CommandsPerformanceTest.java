/Users/user/eclipse.platform.ui/tests/org.eclipse.ui.tests.performance/src/org/eclipse/ui/tests/performance/CommandsPerformanceTest.java
org eclipse tests performance java util array list java util hash set java util list java util locale java util set org eclipse core commands command org eclipse core commands command manager org eclipse core commands parameterized command org eclipse core commands common not defined exception org eclipse core commands contexts context org eclipse core commands contexts context manager org eclipse jface bindings binding org eclipse jface bindings binding manager org eclipse jface bindings scheme org eclipse jface bindings key lookup org eclipse jface bindings key binding org eclipse jface bindings key lookup factory org eclipse jface bindings key sequence org eclipse jface bindings key stroke org eclipse jface bindings parse exception org eclipse jface util util responsible testing commands contexts bindings architecture this test rely existence workbench operates purely face code see method comments descriptions supported performance tests commands performance test basic performance test constructs branch context tree this creates branch depth remembering identifiers this method operates recursively this add bit breadth tree param context manager context manager contexts defined code null code param parent parent context identifier context created code null code param successors number successors create depth branch created number context created recursive call param active context ids list active context identifiers code null code create context context manager context manager string parent successors list active context ids count active context ids size string context string context count context context context manager context context string context define context string context string parent active context ids add context string successors create context context manager context string successors active context ids constructs branch scheme tree this creates branch depth remembering schemes this method operates recursively this add bit breadth tree param binding manager binding manager schemes defined code null code param parent parent scheme identifier scheme created code null code param successors number successors create depth branch created number scheme created recursive call param schemes list created schemes code null code create scheme binding manager binding manager string parent successors list schemes count schemes size string scheme string scheme count scheme scheme binding manager scheme scheme string scheme define scheme string scheme string parent schemes add scheme successors create scheme binding manager scheme string successors schemes binding manager running test code null code test running binding manager binding manager null command manager running test code null code test running command manager command manager null context manager running test code null code test running context manager context manager null constructs instance code commands performance test code param test name test commands performance test string sets complex set bindings time writing eclipse key binding set bindings platform locale about deletion markers deepest point context tree levels there schemes test binding set bindings about locale platform five deletion markers deepest point context tree levels there twenty schemes depth locale platform tree real life test difficult imagine locale list elements platform list elements not defined exception wrong initializing active scheme override set not defined exception exception set constants creating objects platform locale count greater equal number deletion markers deletion markers typically created based platform locale context tree depth scheme depth binding count platform locale count deletion markers string current locale locale default string string current platform util set table modifier key lookup lookup key lookup factory default modifier keys modifier keys lookup alt modifier keys lookup command modifier keys lookup ctrl modifier keys lookup shift modifier keys lookup alt lookup command modifier keys lookup alt lookup ctrl modifier keys lookup alt lookup shift modifier keys lookup command lookup ctrl modifier keys lookup command lookup shift modifier keys lookup ctrl lookup shift modifier keys lookup alt lookup command lookup ctrl modifier keys lookup alt lookup command lookup shift modifier keys lookup alt lookup ctrl lookup shift modifier keys lookup command lookup ctrl lookup shift modifier keys lookup alt lookup command lookup ctrl lookup shift modifier key table modifier keys modifier keys modifier keys modifier keys modifier keys modifier keys modifier keys modifier keys modifier keys modifier keys modifier keys modifier keys modifier keys modifier keys modifier keys modifier keys initialize command manager command manager command manager initialize contexts context manager context manager list active context ids array list create context context manager null context tree depth active context ids context manager set active context ids hash set active context ids initialize schemes binding manager binding manager context manager command manager list schemes array list create scheme binding manager null scheme depth schemes binding manager set active scheme scheme schemes schemes size create deletion markers binding bindings binding binding count deletion markers set locale platform these based numbers string locale null string platform null platform locale count locale current locale platform current platform locale gibberish platform gibberish build key sequence character modifier keys modifier key table modifier key table length key stroke key stroke key stroke instance modifier keys character key sequence key sequence key sequence instance key stroke build parameters string scheme scheme schemes schemes size string context string active context ids active context ids size type construct binding binding binding key binding key sequence null scheme context locale platform null type bindings binding now create regular bindings loop structure resetting ensure deletion markers delete binding count deletion markers set locale platform bindings match deletion markers these based numbers string locale null string platform null deletion markers platform locale count locale current locale platform current platform locale gibberish platform gibberish build key sequence character modifier keys modifier key table modifier key table length key stroke key stroke key stroke instance modifier keys character key sequence key sequence key sequence instance key stroke build parameters string command command string scheme scheme schemes schemes size string context string active context ids active context ids size type construct binding command command command manager command command parameterized command parameterized command parameterized command command null binding binding key binding key sequence parameterized command scheme context locale platform null type bindings deletion markers binding binding manager set bindings bindings override tear down exception binding manager null command manager null context manager null tear down tests takes access cache conditions changed measures takes computation cache times parse exception parsed strange reason test binding cache hit hard parse exception constants cache hits key sequence key sequence key sequence instance compute binding manager partial matches key sequence time takes access cache start measuring cache hits binding manager partial matches key sequence measuring commit measurements performance tests takes access cache conditions changed measures takes computation cache times test reverse command identifier trigger parse exception parsed strange reason test binding cache hit hard reverse parse exception constants cache hits key sequence key sequence key sequence instance compute binding manager partial matches key sequence time takes access cache start measuring cache hits binding manager active bindings for parameterized command null measuring commit measurements performance tests takes access cache conditions changed cache matching entry measures takes computation cache forty times parse exception parsed strange reason test binding cache hit soft parse exception constants cache hits key sequence key sequence key sequence instance compute context set set context set context manager active context ids binding manager partial matches key sequence list context list array list context set context list remove context list size set context set hash set context list context manager set active context ids context set binding manager partial matches key sequence time takes access cache start measuring cache hits context manager set active context ids context set context manager set active context ids context set binding manager partial matches key sequence measuring commit measurements performance tests takes full computation cache exceptionally large set bindings binding set mimick properties real binding set parse exception parsed strange reason test binding cache miss large parse exception constants key sequence key sequence key sequence instance time takes solve binding set start measuring binding manager partial matches key sequence measuring commit measurements performance
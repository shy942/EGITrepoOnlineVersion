/Users/user/eclipse.platform.ui/bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/plugin/AbstractUIPlugin.java
org eclipse plugin java buffered reader java file java exception java input stream java input stream reader java net malformed exception java net java net syntax exception java net org eclipse core runtime core exception org eclipse core runtime file locator org eclipse core runtime path org eclipse core runtime plugin descriptor org eclipse core runtime path org eclipse core runtime platform org eclipse core runtime plugin org eclipse core runtime preferences instance scope org eclipse jface dialogs dialog settings org eclipse jface dialogs dialog settings org eclipse jface preference preference store org eclipse jface resource image descriptor org eclipse jface resource image registry org eclipse swt org eclipse swt error org eclipse swt widgets display org eclipse workbench org eclipse platform org eclipse internal win plugin action org eclipse internal util bundle utility org eclipse preferences scoped preference store org osgi framework bundle org osgi framework bundle context org osgi framework bundle event org osgi framework bundle listener abstract base plug ins integrate eclipse platform subclasses capabilities preferences platform core runtime general support plug preferences code org eclipse core runtime preferences code this conversion older face preference code org eclipse jface preference preference store code method code preference store code returns face preference store code plugin plugin preferences code returns core runtime preferences object subclasses reimplement code initialize default preferences code set values preferences face code initialize default plugin preferences code overridden subclasses reimplement code initialize default plugin preferences code set values preferences core runtime code initialize default preferences code overridden preferences saved automatically plug shutdown however saving preferences changing recommended ensures preference settings lost event platform crash dialogs dialog store read time code dialog settings code called dialog store plug record choices user wizard dialog time wizard dialog widgets defaulted values wizard record values user entered editable combo values dialog store file constant code code dialog store file looked plug read write area plug install directory checked this plug ship read copy dialog store file initial values settings plug code call code save dialog settings code settings saved plug read write area plug opt time wizard dialog closed ensure latest safe disk dialog settings saved automatically plug shutdown images typical plug images frequently cached shared plug image registry central place plug store common images images managed registry created lazily needed automatically disposed plug shuts note number registry images minimum severe limits number images memory for easy access plug object singleton pattern declare variable plug singleton store instance plug singleton created then access singleton needed code default code method see description link plugin abstract plugin plugin dialog settings file code dialog settings xml code string dialog settings xml storage dialog wizard data code null code initialized dialog settings dialog settings null storage preferences scoped preference store preference store registry graphic images code null code initialized image registry image registry null bundle listener kicking refresh plugin actions bundle listener bundle listener link abstract plugin plugin descriptor constructor called plug ins explicitly require org eclipse core runtime compatibility plug called eclipse removed plug deprecated abstract plugin plugin descriptor descriptor descriptor creates plug runtime object plug runtime classes code bundle activators code constructor this method called runtime bundle activated for details code plugin code constructor plugin plugin abstract plugin returns image registry plugin registry manage images frequently plugin implementation method creates empty registry subclasses override method needed image registry registry image registry image registry create image registry thread display current null image registry display current platform workbench running image registry platform workbench display workbench created error returns dialog settings plug dialog settings hold persistent data wizards dialogs plug context workbench error occurs reading dialog store empty quietly created returned subclasses override method expected dialog settings dialog settings dialog settings dialog settings null load dialog settings dialog settings returns image registry plug image registry images plug frequently globally shared plug since severe limit number images memory time plug small number images registry subclasses reimplement code initialize image registry code custom graphic images load subclasses override method expected image registry image registry image registry image registry null image registry create image registry initialize image registry image registry image registry returns preference store plug this preference store hold persistent settings plug context workbench some settings user controlled internal setting exposed user error occurs reading preference store empty preference store quietly created initialized defaults returned strong strong eclipse method longer referring core runtime compatibility layer plug ins relying plugin initialize default preferences access compatibility layer preference store preference store preference store create preference store lazily preference store null preference store scoped preference store instance scope bundle symbolic name preference store returns platform workbench this method exists convenience plugin implementors workbench accessed invoking code platform workbench code workbench workbench plug workbench workbench platform workbench initializes preference store preference values plug this method called preference store initially loaded values stored preference stores implementation method subclasses reimplement method plug preferences subclass reimplement method set values preference store face this older initializing values method reimplemented override code initialize default plugin preferences code param store preference store fill deprecated called runtime compatibility layer see link initialize default plugin preferences deprecated initialize default preferences preference store store spec code abstract plugin code implementation code plugin code method forwards code initialize default preferences preference store code subclass reimplement method set values core runtime preference store standard this recommended older code initialize default preferences preference store code method serves purpose method reimplemented send override code initialize default preferences preference store code deprecated called runtime compatibility layer see deprecated comment link plugin initialize default plugin preferences initialize default preferences deprecated override initialize default plugin preferences time method called plug core runtime preference store values call load preference store compatibility eclipse load preference store call initialize default preferences compatibility eclipse initialize default preferences preference store initializes image registry images frequently plugin image registry images plug frequently globally shared plug since severe limit number images memory time plug small number images registry implementors create face image descriptor frequently image descriptors describe create find image needed image descriptor allocated retrieves subclasses override method fill image registry param reg registry initialize image registry initialize image registry image registry reg spec loads dialog settings plug implementation standard named file plug read write area file exists plug install directory checked installed settings file place empty dialog settings created problem occurs empty settings silently this framework method overridden typically unnecessary load dialog settings dialog settings dialog settings workbench bug instance area created call state location data data default path data location state location null data location null area local file system string read write path data location append string file settings file file read write path settings file exists dialog settings load read write path exception dialog settings dialog settings workbench bundle specific dialog settings bundle utility find bundle null input stream null open stream buffered reader reader buffered reader input stream reader utf dialog settings load reader exception dialog settings dialog settings workbench null close exception loads preference store plug implementation standard named file plug read write area file problem occurs empty preference store silently created this framework method overridden typically unnecessary deprecated eclipse basic preference store exists plug ins this method exists compatibility called plug preference store initialized plug ins preferences loaded file method deprecated load preference store refreshes actions plugin this method called code startup code this framework method overridden typically unnecessary refresh plugin actions workbench started longer running platform workbench running startup guaranteed called thread refresh plugin actions thread async exec see bug details display default async exec runnable override win plugin action refresh action list saves plug dialog settings any problems silently save dialog settings dialog settings null path path state location null path null string read write path path append string dialog settings save read write path exception illegal state exception saves plug preference store any problems silently plugin save plugin preferences deprecated eclipse preferences exist plug ins equivalent method code plugin save plugin preferences code this method calls code save plugin preferences code exists compatibility deprecated save preference store save plugin preferences startup method called plug ins explicitly require org eclipse core runtime compatibility plug called eclipse removed plug deprecated override startup core exception method longer code moved start bundle context startup code abstract plugin code implementation code plugin code method subclasses extend method send deprecated eclipse code shutdown code replaced link plugin bundle context context implementations code shutdown code changed extend code bundle context context code call code context code code shutdown code unlike code shutdown code code context code called code shutdown code method called plug ins explicitly require org eclipse core runtime compatibility plug contrast code code method called deprecated override shutdown core exception method longer interesting code moved bundle context called plug instantiated requires org eclipse core runtime compatibility shutdown code abstract plugin code implementation code plugin code method refreshes plug actions subclasses extend method send inherit doc override start bundle context context exception start context bundle context context should attempt refresh plugin actions bundle fully started otherwise action delegates created process creating triggering action delegate events processed startup also start exception bundle shut don created delegates see bug details bundle listener bundle listener override bundle changed bundle event event event bundle bundle event type bundle event time event queued bundle state bundle refresh plugin actions remove bundle listener context add bundle listener bundle listener bundle listener removed bundle context code abstract plugin code implementation link plugin method saves plug preference dialog stores shuts image registry subclasses extend method send statement ensure code code inherit doc override bundle context context exception bundle listener null context remove bundle listener bundle listener save dialog settings save preference store preference store null image registry null image registry dispose image registry null context creates returns image descriptor image file located plug this convenience method simply locates image file plug query shared images registry path relative root plug takes account files coming plug fragments path include arg elements however path leading path separator clients path icons mysample png icons mysample png icons mysample png param plugin plug image file code null code returned plug exist param image file path relative path image file relative root plug path legal image descriptor code null code image image descriptor image descriptor from plugin string plugin string image file path plugin null image file path null illegal argument exception workbench workbench platform workbench running platform workbench null image descriptor image descriptor workbench null null workbench shared images image descriptor image file path image descriptor null shared images image descriptor bundle ready image bundle bundle platform bundle plugin bundle utility ready bundle null don resolve create platform plugin protocol supports fragments caveat supported platform connection file locator find bug path uri path path plugin append plugin append image file path url uri platform null uri path string null url uri malformed exception syntax exception null image full path string file locator find url full path string null this unspecified bug url image file path malformed exception null create image descriptor platform image descriptor create from url returns path location file system persist restore workbench invocations location exist prior call created returns code null code location path location file system plug persist data sessions code null code location path state location null state location illegal state exception null
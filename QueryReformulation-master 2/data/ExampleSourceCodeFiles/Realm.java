/Users/user/eclipse.platform.ui/bundles/org.eclipse.core.databinding.observable/src/org/eclipse/core/databinding/observable/Realm.java
org eclipse core databinding observable java util timer java util timer task org eclipse core databinding util policy org eclipse core internal databinding observable queue org eclipse core runtime safe runnable org eclipse core runtime status org eclipse core runtime safe runner org eclipse core runtime status realm defines context objects implementing link observable accessed objects notify listeners bridge observables realms subclasses code binding code block code executing realm calling link current block returns true code reached calling methods block execute realm exception methods execute code specific realm clients link sync exec runnable link async exec runnable link exec runnable execute runnable realm note link sync exec runnable lead deadlocks avoided current thread holds locks instructive implementations realm based executing designated thread thread based holding lock calling sync exec realm current realm execute runnable thread designated thread calling sync exec execute runnable calling thread calling link async exec runnable execute runnable thread therefore assumptions thread execute arguments link async exec runnable link sync exec runnable link exec runnable block code executing realm this happen implementations realm based holding lock don separate thread runnables link sync exec runnable realm implementations kind appropriately documented increases opportunity deadlock some implementations link observable provide constructors realm argument create observable instance current realm realm set executing thread link with default realm runnable note realm current realm subclasses override async exec sync exec for realms based designated thread easier implement async exec implementation sync exec for realms based holding lock easier implement sync exec implementation async exec observable realm thread local realm realm thread local returns realm calling thread code null code realm set realm code null code realm default realm sets realm calling thread returning current thread this method inherently unsafe recommended link with default realm runnable this method exposed subclasses facilitate testing param realm realm code null code previous realm code null code realm set default realm realm realm value default realm set realm value true caller executing realm this method side effects implicitly placing caller realm current thread worker thread timer timer queue work queue queue runs runnable exception occurs runnable logged thrown runnable link safe runnable exception passed code handle exception code method param runnable safe run runnable runnable safe runnable safe runnable runnable safe runnable safe runnable safe runnable runnable safe runnable safe runnable override handle exception throwable exception policy log log status status policy status unhandled exception exception message exception override exception runnable safe runner safe runnable causes code code method runnable invoked realm caller executing realm runnable method invoked reasonable opportunity async exec runnable instance link safe runnable exception handler method called exceptions occur running otherwise exception logged param runnable exec runnable runnable current safe run runnable async exec runnable causes code code method runnable invoked realm reasonable opportunity caller method continues parallel notified runnable completed runnable instance link safe runnable exception handler method called exceptions occur running otherwise exception logged subclasses link safe run runnable runnable param runnable async exec runnable runnable work queue ensure worker thread running work queue enqueue runnable work queue notify all causes code code method runnable invoked realm number milliseconds elapsed milliseconds runnable executed caller method continues parallel notified runnable completed runnable instance link safe runnable exception handler method called exceptions occur running otherwise exception logged subclasses link safe run runnable runnable param milliseconds param runnable timer exec milliseconds runnable runnable milliseconds milliseconds async exec runnable work queue timer null timer timer true timer schedule timer task override async exec runnable milliseconds ensure worker thread running worker thread null worker thread thread override true runnable work null work queue work queue empty work queue wait work runnable work queue dequeue sync exec work interrupted exception worker thread start causes code code method runnable invoked realm reasonable opportunity this method blocking caller runnable completes runnable instance link safe runnable exception handler method called exceptions occur running otherwise exception logged subclasses link safe run runnable runnable note this meant called clients access param runnable sync exec runnable runnable sync runnable sync runnable sync runnable runnable async exec sync runnable sync runnable sync runnable run sync runnable wait interrupted exception thread current thread interrupt sync runnable runnable run false runnable runnable sync runnable runnable runnable runnable runnable override safe run runnable run true notify all sets code realm code duration link runnable resets previous realm completion note set realm current realm param realm param runnable with default realm realm runnable runnable realm realm realm default realm set realm runnable realm set realm
/Users/user/eclipse.platform.ui/bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/UILockListener.java
org eclipse internal org eclipse core runtime jobs lock listener org eclipse swt widgets display lock listener prevent thread deadlocking lock thread owning lock attempting sync exec lock listener lock listener queue construct track semaphores queue semaphore elements semaphore head tail add semaphore queue param element add semaphore element tail increment tail tail head grow tail tail elements tail element tail tail grow size elements length semaphore elements semaphore size tail head system arraycopy elements head elements head size head size elements length head system arraycopy elements elements tail system arraycopy elements head elements head size head head head elements elements increment elements length remove semaphore woken semaphore remove tail head null semaphore result elements head elements head null head increment head reset queue empty grown tail head elements length elements semaphore tail head result size tail head tail head elements length head tail display display queue pending work queue semaphore current work null thread create instance receiver param display lock listener display display display display override release null override wait thread lock owner acquired lock true current work null current work operation thread lock owner true thread current thread pending work field nulled nested wait execution pending work assigned start waiting thread current thread false add pending work semaphore work pending work add work override block should called thread pending work clear interrupt flag set interrupt thread interrupted semaphore work work pending work remove null remember current work replacing handle nested waiting bug semaphore work current work current work work runnable runnable work runnable runnable null runnable current work work work release interrupt display thread interrupt lock owner lock owner thread display disposed display thread thread current thread waiting null thread current thread
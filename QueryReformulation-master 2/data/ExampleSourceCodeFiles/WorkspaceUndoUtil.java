/Users/user/eclipse.platform.ui/bundles/org.eclipse.ui.ide/src/org/eclipse/ui/ide/undo/WorkspaceUndoUtil.java
org eclipse ide undo java net java util array list java util arrays java util list org eclipse core commands operations undo context org eclipse core commands operations object undo context org eclipse core filesystem util org eclipse core resources container org eclipse core resources file org eclipse core resources folder org eclipse core resources project org eclipse core resources resource org eclipse core resources resource status org eclipse core resources workspace org eclipse core resources workspace root org eclipse core resources resources plugin org eclipse core runtime adapters org eclipse core runtime core exception org eclipse core runtime adaptable org eclipse core runtime path org eclipse core runtime progress monitor org eclipse core runtime status org eclipse core runtime multi status org eclipse core runtime null progress monitor org eclipse core runtime operation canceled exception org eclipse core runtime status org eclipse core runtime sub monitor org eclipse jface dialogs dialog constants org eclipse jface dialogs message dialog org eclipse osgi util org eclipse swt org eclipse swt widgets shell org eclipse platform org eclipse internal workbench plugin org eclipse internal ide workbench plugin org eclipse internal ide undo container description org eclipse internal ide undo file description org eclipse internal ide undo undo messages workspace undo util defines common utility methods constants clients create undoable workspace operations workspace undo util object undo context tasks undo context object undo context bookmarks undo context object undo context problems undo context return undo context workspace wide operations undo context suitable workspace level operations undo context workspace undo context workbench plugin default operation support undo context return undo context operations involving tasks tasks undo context undo context tasks undo context tasks undo context null tasks undo context object undo context object tasks context tasks undo context add match workspace undo context tasks undo context return undo context operations involving bookmarks bookmarks undo context undo context bookmarks undo context bookmarks undo context null bookmarks undo context object undo context object bookmarks context bookmarks undo context add match workspace undo context bookmarks undo context return undo context operations involving problems problems undo context undo context problems undo context problems undo context null problems undo context object undo context object problems context problems undo context add match workspace undo context problems undo context make code adaptable code adapts shell suitable passing passing link org eclipse core commands operations undoable operation link org eclipse core commands operations operation history method requires link org eclipse core runtime adaptable code info code parameter param shell shell returned adaptable asked adapt shell parameter code null code returned shell code null code adaptable shell adaptable info adapter shell shell adaptable override adapter class clazz clazz shell clazz cast shell null workspace undo util construct delete resources returning resource descriptions restore param resources delete array resources deleted param monitor progress monitor operation progress param info adaptable code null code caller order supply prompting user when parameter code null code adapter org eclipse swt widgets shell param delete content indicating project content deleted project resource deleted array resource descriptions restore deleted resources core exception propagates core exceptions thrown resources resource description delete resource resources delete progress monitor mon adaptable info delete content core exception sub monitor monitor sub monitor convert mon resources delete length list core exception exceptions array list force out sync delete false resource description returned resource descriptions resource description resources delete length monitor set task name undo messages abstract resources operation delete resources progress resources delete length resource resource resources delete returned resource descriptions delete resource monitor split info force out sync delete delete content core exception resource type resource status children status children children length children code resource status result query delete out sync resource info result dialog constants delete resource monitor split info true delete content result dialog constants force out sync delete true delete resource monitor split info force out sync delete delete content result dialog constants operation canceled exception exceptions add exceptions add exceptions add status result create result exceptions result core exception result returned resource descriptions copies resources destination this method called recursively merge folders folder copy param resources resources copied param destination destination path resources relative workspace param resources destination list record copies param monitor progress monitor progress param info adaptable code null code caller order supply prompting user when parameter code null code adapter org eclipse swt widgets shell param path includes name path includes resource destination code true code destination desired resource desired resource copied code false code resource appended destination array resource descriptions describing resources overwritten copy operation core exception propagates core exceptions thrown resources resource description copy resource resources path destination list resource resources destination progress monitor monitor adaptable info path includes name core exception copy resources destination resources destination monitor info path includes name false false null copies resources destination this method called recursively merge folders folder copy param resources resources copied param destination destination path resources relative workspace param resources destination list record copies param monitor progress monitor progress param info adaptable code null code caller order supply prompting user when parameter code null code adapter org eclipse swt widgets shell param path includes name path includes resource destination code true code destination desired resource desired resource copied code false code resource appended destination param create virtual virtual folders created folders hierarchy files copied param create links linked resources created files folders create groups false copied param relative variable string relative variable linked resources created create links set true absolute linked resources created null passed create links set true array resource descriptions describing resources overwritten copy operation core exception propagates core exceptions thrown resources resource description copy resource resources path destination list resource resources destination progress monitor monitor adaptable info path includes name create virtual create links string relative variable core exception sub monitor monitor sub monitor convert monitor resources length monitor set task name undo messages abstract resources operation copying resources progress list resource description overwritten resources array list resource source resources sub monitor iteration progress monitor split set work remaining path destination path path includes name destination path destination destination path destination append source name workspace root workspace root workspace root resource existing workspace root find member destination path source type resource existing null copy children existing destination source linked existing linked source virtual existing virtual source linked existing linked source virtual existing virtual resource children container source members copy linked resource children source linked source location equals existing location children filter non linked resources children resource description overwritten copy children destination path resources destination iteration progress info false create virtual create links relative variable just record overwrites overwritten length overwritten resources add overwritten delete destination folder copying linked folder unlinked vice versa fixes bug resource description deleted delete resource existing iteration progress split info false iteration progress set work remaining create links create virtual source linked false source virtual false folder folder workspace root folder destination path create virtual folder create resource true iteration progress split resource members container source members members length overwritten resources add all arrays list copy members destination path resources destination iteration progress split info false create virtual create links relative variable folder create link create relative path source location relative variable folder iteration progress split source copy destination path resource iteration progress split record copy resources destination add workspace root find member destination path deleted length overwritten resources add deleted existing null source destination create links create virtual source linked false create linked file overwrite destination resource description deleted delete resource existing iteration progress split info false iteration progress set work remaining source type resource file file workspace root file destination path file create link create relative path source location relative variable file iteration progress split folder folder workspace root folder destination path create virtual folder create resource true iteration progress split resource members container source members members length overwritten resources add all arrays list copy members destination path resources destination iteration progress split info false create virtual create links relative variable folder create link create relative path source location relative variable folder iteration progress split resources destination add workspace root find member destination path deleted length overwritten resources add deleted source linked existing linked overwritten resources add copy over existing resource source existing iteration progress split info false record copy resources destination add existing copying linked resource unlinked vice versa can set contents fixes bug resource description deleted delete resource existing iteration progress split info false source copy destination path resource iteration progress split record copy resources destination add workspace root find member destination path deleted length overwritten resources add deleted source resources overwritten ensure destination path exists path parent path destination path includes name parent path destination remove last segments container generated parent generate containers parent path create links create virtual source linked false source type resource file file workspace root file destination path file create link create relative path source location relative variable file iteration progress split folder folder workspace root folder destination path create virtual folder create resource true iteration progress split resource members container source members members length overwritten resources add all arrays list copy members destination path resources destination iteration progress split info false create virtual create links relative variable folder create link create relative path source location relative variable folder iteration progress split source copy destination path resource iteration progress split folder recorded copy generated parent null resources destination add workspace root find member destination path resources destination add generated parent overwritten resources array resource description overwritten resources size transform absolute path relative path foo bar file txt file txt granted relative variable points foo bar param location param resource relative variable create relative path location string relative variable resource resource relative variable null location path location util path location path result result util path resource path variable manager convert relative util location true relative variable core exception location util result moves resources destination this method called recursively merge folders folder move param resources resources moved param destination destination path resources relative workspace param resources destination list record moved resource param reverse destinations list record moved resource original location param mon progress monitor progress param info adaptable code null code caller order supply prompting user when parameter code null code adapter org eclipse swt widgets shell param path includes name path includes resource destination code true code destination desired resource desired resource moved code false code resource appended destination array resource descriptions describing resources overwritten move operation core exception propagates core exceptions thrown resources resource description move resource resources path destination list resource resources destination list path reverse destinations progress monitor mon adaptable info path includes name core exception sub monitor monitor sub monitor convert mon resources length monitor set task name undo messages abstract resources operation moving resources list resource description overwritten resources array list resources length sub monitor iteration progress monitor split resource source resources path destination path path includes name destination path destination destination path destination append source name workspace root workspace root workspace root resource existing workspace root find member destination path source type resource existing null move children existing destination source linked existing linked resource children container source members move linked resource children source linked source location equals existing location children filter non linked resources children resource description overwritten move children destination path resources destination reverse destinations iteration progress split info false call just record overwrites overwritten length overwritten resources add overwritten delete source record moved delete source iteration progress split info false false delete destination folder moving linked folder unlinked vice versa fixes bug resource description deleted delete resource existing iteration progress split info false record original path reverse destinations add source full path source move destination path resource resource iteration progress split record resource destination resources destination add workspace root find member destination path deleted length overwritten resources add deleted existing null source linked existing linked record original path reverse destinations add source full path overwritten resources add copy over existing resource source existing iteration progress split info true resources destination add existing moving linked resource unlinked vice versa can set contents fixes bug resource description deleted delete resource existing iteration progress split info false reverse destinations add source full path source move destination path resource resource iteration progress split record resource destination resources destination add workspace root find member destination path deleted length overwritten resources add deleted resources overwritten first record source path reverse destinations add source full path ensure destination path exists path parent path destination path includes name parent path destination remove last segments container generated parent generate containers parent path source move destination path resource resource iteration progress split folder recorded copy generated parent null resources destination add workspace root find member destination path resources destination add generated parent overwritten resources array resource description overwritten resources size returns linked resources array resources param resources resources filter linked resources resource filter non linked resources resource resources list resource result array list resources length resources linked result add resources result array resource recreate resources resource descriptions param resources recreate resource descriptions describing resources recreated param monitor progress monitor progress param info adaptable code null code caller order supply prompting user when parameter code null code adapter org eclipse swt widgets shell array resources created core exception propagates core exceptions thrown resources resource recreate resource description resources recreate progress monitor monitor adaptable info core exception sub monitor monitor sub monitor convert monitor resources recreate length list core exception exceptions array list resource resources return resource resources recreate length monitor set task name undo messages abstract resources operation create resources progress resources recreate length resources return resources recreate create resource monitor split core exception exceptions add status result workspace undo util create result exceptions result core exception result resources return delete resources returning resource description restore param resource delete resource deleted param monitor progress monitor operation progress param info adaptable code null code caller order supply prompting user when parameter code null code adapter org eclipse swt widgets shell param force out sync delete indicating resource deleted sync file system param delete content indicating project content deleted project resource deleted resource description restore deleted resource core exception propagates core exceptions thrown resources resource description delete resource resource delete progress monitor monitor adaptable info force out sync delete delete content core exception sub monitor monitor sub monitor convert monitor resource description resource description resource description resource resource delete resource delete type resource project monitor set task name undo messages abstract resources operation delete resources progress project project project resource delete project delete delete content force out sync delete monitor project delete monitor set work remaining monitor set task name undo messages abstract resources operation delete resources progress update flags force out sync delete update flags resource resource update flags resource resource delete delete update flags monitor split resource description record state from history resource delete monitor split resource description copy content resource existing resource returning resource description restore original content resources files resource description copy over existing resource resource source resource existing progress monitor monitor adaptable info delete source file core exception source file existing file null file file file source file existing file file existing sub monitor monitor sub monitor convert monitor undo messages abstract resources operation copying resources progress delete source file file null existing file null validate edit file existing file shell info remember existing file restored file description file description file description existing file reset contents file moved existing file set contents file contents resource monitor split file description record state from history existing file monitor split content delete source file file delete resource monitor split file description null check existence path generate containers exist return generated containers null container generated container generate containers path path core exception resource container path segment count generate null container workspace root find member path nothing generate container exists container null null now existent handle representing desired container path segment count container resources plugin workspace root project path segment container resources plugin workspace root folder path container description container description container description container container container container container description create resource handle container description create existent resource from handle container null progress monitor container container ask user resource deleted sync file system return dialog constants constants indicating yes yes all cancel options selected user query delete out sync resource resource adaptable info shell shell shell info message dialog dialog message dialog shell undo messages abstract resources operation deletion message title null bind undo messages abstract resources operation sync question resource name message dialog dialog constants dialog constants dialog constants dialog constants override shell style shell style shell display sync exec dialog open result dialog return code result dialog constants result dialog constants result dialog constants dialog constants creates result status list exceptions status create result list core exception exceptions exceptions empty status exception count exceptions size exception count exceptions status core exception children exceptions array core exception exception count sync false children length children status code resource status sync true string title sync undo messages abstract resources operation sync error undo messages abstract resources operation deletion exception message multi status multi multi status workbench plugin title null exception count core exception exception children status status exception status multi add status status severity status plugin status code status message exception multi return workspace workspace workspace resources plugin workspace return workspace root workspace root workspace root workspace root validate destination file read additionally source file read returns true files writeable validate edit file source file destination shell shell destination read only workspace workspace workspace undo util workspace status status source read only status workspace validate edit file source destination shell status workspace validate edit file destination shell status true return shell adaptable active shell shell adaptable param info adaptable code null code caller order supply prompting user when parameter code null code adapter org eclipse swt widgets shell shell shell shell adaptable info shell shell adapters adapt info shell shell null shell platform workbench active workbench window shell
/Users/user/eclipse.platform.ui/bundles/org.eclipse.ui.forms/src/org/eclipse/ui/internal/forms/widgets/TextSegment.java
org eclipse internal forms widgets java util array list java util hashtable java util vector org eclipse jface util geometry org eclipse swt org eclipse swt graphics color org eclipse swt graphics font org eclipse swt graphics font metrics org eclipse swt graphics org eclipse swt graphics point org eclipse swt graphics rectangle ibm icu text break iterator version author text segment paragraph segment string color string font string text underline wrap allowed true vector area rectangle area rectangles vector text fragment text fragments area rectangle rectangle rect area rectangle rectangle rect rect rect rect intersects rectangle region rect intersects region string text text segment text text segment text substring text segment text substring selection range start selection range reset reset start text fragment length text fragment length length length text segment string text string font text font null true text segment string text string font string color text font color true text segment string text string font string color wrap allowed text cleanup text font font color color wrap allowed wrap allowed string cleanup string text string buffer buf string buffer text length text buf append buf append buf string set word wrap allowed wrap allowed word wrap allowed wrap allowed selectable false string color color string text text set text string text text cleanup text text fragments null set color string color color color set font string font font font text fragments null override area rectangles size area rectangle area rectangles true area rectangles size test gap rectangle top rect rectangle bot area rectangles rect top top height bot gap left math max top bot math min top top width bot bot width left true false override intersects rectangle rect area rectangles size area rectangle area rectangles intersects rect true area rectangles size test gap rectangle top rect rectangle bot area rectangles rect top top height bot top top height height bot left math max top bot math min top top width bot bot width rectangle gap rectangle left left height gap intersects rect true false rectangle bounds area rectangles size rectangle area rectangle area rectangles rectangle bounds geometry copy rect area rectangles size area rectangle area rectangles bounds add rect bounds override advance locator hint locator locator hashtable string object object table compute height only font font null font null font font font font font object table font font null set font font font metrics font metrics height height line false hint wrap allowed point extent text extent text total extent locator extent selectable total extent hint total extent locator margin width hint locator reset caret locator locator row height compute height only locator collect heights locator row height locator leading line true width extent selectable width locator width locator width locator locator row height math max locator row height extent locator leading math max locator leading leading line compute text fragments width point extent point text fragments length text fragment text fragment text fragments current extent locator extent selectable current extent wrap fragment start locator locator start selectable current extent text fragment length hint overflow width current extent locator row height math max locator row height extent locator leading math max locator leading leading compute height only locator collect heights locator locator indent locator locator row height locator row height locator leading extent extent width math max width width line true extent text fragment length extent math max height extent width math max width locator extent width extent selectable width locator width locator width width locator row height math max locator row height extent locator leading math max locator leading leading font null set font font line layout without wrapping width locator locator selected font metrics height descent point extent text extent text ewidth extent selectable ewidth locator ewidth width locator margin width locator reset caret locator locator row height locator row height locator row counter locator baseline height leading height descent rectangle rectangle locator ewidth height descent area rectangles add area rectangle locator ewidth locator width ewidth locator row height math max locator row height extent convert offset string index string swidth sel offset length swidth sel offset string substring swidth text extent paint focus color color selected rectangle repaint region area rectangles null area rectangles size area rectangle area rectangle area rectangles rectangle area rectangle rect repaint region null repaint region repaint region selected set background set foreground draw focus width height set foreground draw rectangle width height override paint hover hashtable string object resource table selected selection data sel data rectangle repaint region paint hover resource table selected false sel data repaint region paint hover hashtable string object resource table selected rollover selection data sel data rectangle repaint region font font null color color null color null apply segment specific font color background font null font font font font font resource table font font null set font font hover color null color foreground color color color resource table color color null set foreground color background font metrics font metrics height height descent descent paint area rectangles segment area rectangles size area rectangle area rectangle area rectangles rectangle rect area rectangle rect string text area rectangle text point extent text extent text text rect selectable rect height descent paint string text extent text rect sel data rect hover rollover repaint region selected rect rect repaint region null repaint region repaint region avoid partially cancelling focus painting red pixels cancel color foreground set foreground draw rectangle rect width rect height set foreground draw focus rect width rect height restore resources font null set font font color null set foreground color null set background override compute selection hashtable string object resource table selection data sel data font font null font null font font font font font resource table font font null set font font area rectangles size area rectangle area rectangle area rectangles rectangle rect area rectangle rect string text area rectangle text point extent text extent text compute selection text extent sel data rect restore resources font null set font font paint string string swidth selection data sel data rectangle bounds hover rollover mode rectangle repaint region repaints area rectangle sel data null sel data enclosed color saved background color saved foreground left offset sel data left offset bounds height offset sel data right offset bounds height row sel data first selection row bounds bounds height row sel data last selection row bounds bounds height selected row sel data selected row bounds bounds height sstart sstop row swidth left offset row offset paint string segment text extent hover rollover mode repaint region row bounds swidth left offset sstart convert offset string index bounds swidth left offset row bounds swidth offset sstop convert offset string index bounds swidth offset row sstart string left substring sstart width text extent left paint string segment left width hover rollover mode repaint region width selected row lindex sstart sstart rindex sstop sstop length string mid substring lindex rindex point extent text extent mid set foreground sel data set background sel data fill rectangle extent extent paint string segment mid extent hover rollover mode repaint region extent set foreground saved set background saved paint string segment text extent hover rollover mode repaint region row sstop string substring sstop paint string segment text extent hover rollover mode repaint region paint string segment text extent hover rollover mode repaint region compute selection string swidth selection data sel data rectangle bounds left offset sel data left offset bounds height offset sel data right offset bounds height row sel data first selection row bounds bounds height row sel data last selection row bounds bounds height selected row sel data selected row bounds bounds height sstart sstop row bounds left offset sstart convert offset string index bounds swidth left offset row bounds swidth offset sstop convert offset string index bounds swidth offset selected row lindex sstart sstart rindex sstop sstop length string mid substring lindex rindex mid length sel data add segment mid paint string segment string swidth hover rollover mode rectangle repaint region reverse false clip clip clip line repaint region null clip repaint region clip repaint region clip line repaint region rollover mode hover reverse true reverse draw underline swidth clip clip line hover rollover mode draw text clip clip draw text clip clip draw underline swidth clip clip line hover rollover mode draw text string clip clip draw text clip clip true draw underline swidth hover rollover mode underline rollover mode color saved null rollover mode hover saved foreground set foreground background draw line swidth saved null set foreground saved override layout width locator locator hashtable string object resource table selected font font null area rectangles clear font null font font font font font resource table font font null set font font font metrics font metrics height height descent descent wrap allowed layout without wrapping width locator selected height descent start loc point extent point compute text fragments edge width locator margin width text fragments length text fragment fragment text fragments loc fragment loc wrap fragment start locator locator start selectable locator extent fragment length edge overflow locator baseline height leading rectangle rectangle selectable locator locator selectable extent extent height descent area rectangles add area rectangle start loc locator row height math max locator row height extent locator reset caret selectable locator locator locator row height locator row counter locator row height start loc extent extent loc loc extent fragment length extent math max height extent string line text substring start loc locator baseline height leading width extent selectable width rectangle rectangle selectable locator locator selectable extent extent height descent height descent area rectangles add area rectangle start loc locator width locator row height math max locator row height extent font null set font font compute text fragments text fragments null array list text fragment list array list break iterator break iterator line instance set text text cursor loc loc break iterator loc loc string word text substring cursor loc point extent text extent word list add text fragment loc extent cursor loc text fragments list array text fragment list size override clear cache string font font null font null font equals form text model text fragments null font null font null font equals font text fragments null
/Users/user/eclipse.platform.ui/tests/org.eclipse.ui.tests/Eclipse UI Tests/org/eclipse/ui/tests/concurrency/SyncExecWhileUIThreadWaitsForRuleTest.java
org eclipse tests concurrency junit framework test case org eclipse core runtime sub monitor org eclipse core runtime jobs scheduling rule org eclipse core runtime jobs job org eclipse swt exception org eclipse swt widgets display this tests simple traditional deadlock thread holding scheduling rule perform sync exec thread waiting scheduling rule synchronizer lock listener conspire prevent deadlock see https bugs eclipse org bugs bug cgi sync exec while thread waits for rule test test case test rule scheduling rule override scheduling rule rule rule override conflicting scheduling rule rule rule test deadlock scheduling rule rule test rule blocked false lock acquired false sub monitor rule monitor sub monitor convert null thread locking thread sync exec while thread waits for rule test override background thread owns lock job job manager rule rule null spawn async exec thread blocked display default async exec runnable override blocked true job job manager rule rule rule monitor job job manager rule rule blocked false wait thread blocked waiting lock blocked thread sleep interrupted exception print stack trace attempt sync exec acquires lock succeed async exec blocked synchronizer display default sync exec runnable override timeout avoid deadlock regression job job manager rule rule null lock acquired true job job manager rule rule job job manager rule rule locking start create thread cancel monitor seconds don hang tests wait start system current time millis thread canceler thread canceler override true system current time millis wait start rule monitor set canceled true canceler start wait succeeded acquire lock thread display display display default lock acquired spin event loop async exed display read and dispatch display sleep exception fail deadlock occurred monitor canceled deadlock false deadlock occurred rule monitor canceled
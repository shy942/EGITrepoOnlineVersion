/Users/user/eclipse.platform.ui/bundles/org.eclipse.jface/src/org/eclipse/jface/window/Window.java
org eclipse jface window java util array list org eclipse jface resource face resources org eclipse core runtime assert org eclipse jface util geometry org eclipse jface util property change listener org eclipse jface util property change event org eclipse swt org eclipse swt events shell adapter org eclipse swt events shell event org eclipse swt events shell listener org eclipse swt graphics image org eclipse swt graphics point org eclipse swt graphics rectangle org eclipse swt layout grid layout org eclipse swt widgets composite org eclipse swt widgets control org eclipse swt widgets display org eclipse swt widgets layout org eclipse swt widgets listener org eclipse swt widgets monitor org eclipse swt widgets shell face window object visual representation widgets told open creating window involves steps creating instance concrete subclass code window code creating window shell widget tree calling code create code optional assigning window window manager code window manager add code optional opening window calling code open code opening window create shell widget tree created when window closed shell widget tree disposed longer referenced window automatically removed window manager window reopened face window framework consists code window code base windows concrete window classes code application window code subclassed clients define additional window subclasses required code window code methods subclasses override configure window including code close code extend free resources code configure shell code extend reimplement set shell properties window opens code create contents code extend reimplement create controls window opens code initial size code reimplement initial size shell code initial location code reimplement initial location shell code shell listener code extend reimplement receive shell events code handle font change code reimplement respond font code handle shell close event code extend reimplement handle shell closings window shell provider standard code constant indicating window opened open standard code constant indicating window canceled open array images window expected array icon rendered resolutions image images this defines exception handler set global handler called exception event loop exception handler handle exception param exception occured handle exception throwable defines exception handler default exception handler exception handler override handle exception throwable thread death thread dies thread death try running print stack trace exception handler application exception handler exception handler default exception handler orientation window orientation object locate parent modal shells shell provider modal parent display display current null null shell parent active shell make don pick parent modal child lock app parent null top level window open modal windows parent modal child display current shells picked parent modal child modal child shell modal child modal child parent shells modal child null parent modal child parent object returns parent shell shell provider parent shell shell style bits set shell style shell style window manager code null code set window manager window manager window manager window shell code null code shell shell top level control code null code control contents window code initially code code set return code code code true code code open code method window closes code false code code open code method initially code false code blocking set block open block false internal informing window fonts change font change listener property change listener override property change property change event event handle font change event internal font change listener font change listener font change listener internal fields detect shell size set resize has occurred false listener resize listener creates window instance shell created parent shell note window visual representation told open code open code block param parent shell parent shell code null code create top level shell try passing shell null method null compiler complains ambiguity error set block open default orientation window shell parent shell same shell provider parent shell parent shell null set shell style shell style default orientation creates window create shell child shell provider returns param shell provider object current parent shell not null window shell provider shell provider assert not null shell provider parent shell shell provider determines window handle close event implementation framework method returns code true code code handle shell close event code method called subclasses extend reimplement window handle close event handle shell close event true closes window disposes shell removes window window manager this framework method extended code close code called note order prevent recursive calls method call code shell close code result code shell listener code receive code shell closed code event code true code window closed code false code open close listening font font change listener null face resources font registry remove listener font change listener font change listener null remove window window manager window manager null window manager remove window manager null shell null shell disposed true close shell recursion occur instead dispose shell remove display shell dispose shell null contents null true configures shell preparation opening window implementation framework method sets shell image grid layout subclasses extend reimplement param shell shell configure shell shell shell disposed images array passed shell images null images length array list image disposed images array list images length images length images null images disposed disposed images add images disposed images size system err println window configure shell images disposed image array image disposed images size disposed images array array shell set images array layout layout layout layout null shell set layout layout creates layout shell layout created attached composite passed create contents implementation returns grid layout margins subclasses change layout type overriding method override create contents null layout attached composite layout attached create contents newly created layout null layout attached layout layout grid layout layout grid layout layout margin height layout margin width layout constrain shell size larger display bounds constrain shell size limit shell size display size rectangle bounds shell bounds rectangle constrained constrained shell bounds bounds bounds equals constrained shell set bounds constrained creates window widgetry top level shell implementation framework method creates window shell calling code create shell code controls calling code create contents code initializes window shell bounds calling code initialize bounds code create shell create shell contents create contents shell initialize bounds shell contents initialize bounds creates returns window contents subclasses attach number children parent convenience method remembered returned subsequent calls contents subclasses modify parent layout overload layout null common practise create single composite entire window contents implementation framework method creates instance code composite code subclasses override param parent parent composite controls window type layout determined layout control returned subsequent calls contents control create contents composite parent create composite composite parent creates returns window shell this method creates shell configures code configure shell code subclasses override code configure shell code shell customized shell shell create shell shell parent parent shell parent null parent disposed parent shell same shell provider null find parent parent parent shell create shell shell shell shell parent shell style resize listener resize has occurred true shell add listener resize resize listener shell set data add listener shell add shell listener shell listener set layout configure shell shell register font font change listener null font change listener font change listener face resources font registry add listener font change listener shell returns top level control window parent control shell top level control code null code window control created control contents contents returns image this image windows shell image time opened there image installed code set default image code image code null code set default image image default image images null images length null images returns array images newly opened windows expected array icon rendered resolutions org eclipse swt widgets decorations set images org eclipse swt graphics image array images window opened set default images image default images images null image images returns initial location shell implementation centers shell horizontally difference left vertically relative parent shell display bounds parent shell param initial size initial size shell returned code initial size code initial location shell point initial location point initial size composite parent shell parent monitor monitor shell display primary monitor parent null monitor parent monitor rectangle monitor bounds monitor client area point center point parent null center point geometry center point parent bounds center point geometry center point monitor bounds point center point initial size math max monitor bounds math min center point initial size monitor bounds monitor bounds height initial size returns initial size shell implementation returns preferred size shell code shell compute size true code initial size shell point initial size shell compute size true returns specific modal child list shells param search shells search modal children specific modal child null shell modal child shell search modal search length shell shell search check shell modal child shell children shell shells shell modal child modal child children modal child null modal child check shell modal shell visible shell style modal shell null returns parent shell window shell created parent shell code null code parent shell shell parent shell shell parent parent shell shell modal shell style modal modal shell parent pick shell modal parent parent null parent modal parent shell parent returns window code window codes window specific standard codes predefined code code code code code return code code returns window shell window shell code null code window shell created override shell shell shell returns shell listener this shell listener registered window shell implementation framework method returns listener window active window window manager shell activated calls framework method code handle shell close event code shell closed subclasses extend reimplement shell listener shell listener shell listener shell adapter override shell closed shell event event don close event doit false handle shell close event handle shell close event returns shell style bits code code subclassers call code set shell style code change overriding method shell style bits shell style shell style returns window manager window window manager code null code window manager window manager window manager notifies font property change implementation framework method subclasses reimplement param event property change event detailing changed handle font change property change event event notifies window close button pressed close menu selected key pressed implementation framework method sets window code code code closes window code close code subclasses extend reimplement handle shell close event set return code close initializes location size window shell created this framework method called code create code framework method implementation calls code initial size code code initial location code passes code shell set bounds code this bounds shell modified subclasses extend reimplement initialize bounds resize listener null shell remove listener resize resize listener resize has occurred check shell size set point size initial size point location initial location size shell set bounds constrained shell bounds rectangle location location size size opens window creating created window configured block open code set block open code method waits window closed user returns window code method returns window codes window specific standard codes predefined code code code code code create open shell null shell disposed shell null create window create limit shell size display size constrain shell size open window shell open event loop block event loop shell code runs event loop shell param loop shell shell event loop shell loop shell use display shell display display shell null display display current display loop shell display loop shell null loop shell disposed display read and dispatch display sleep throwable exception handler handle exception display disposed display update sets code open code method block window closes param block code true code code open code method window closes code false code code open code method set block open block block block sets image this image windows shell image time opened there image installed method param image image code null code set default image image image images image null null image image sets array images newly opened windows expected array icon rendered resolutions org eclipse swt widgets decorations set images org eclipse swt graphics image param images array images window opened set default images image images image array image images length system arraycopy images array array length images array changes parent shell this safe shell realized created once shell created disposed closed method called param parent shell parent shell code null code parent set parent shell shell parent shell assert true shell null there existing shell parent shell same shell provider parent shell sets window code code automatically returned code open code block open enabled for blocking opens code retrieved manually code return code code param code code set return code code code code returns monitor client area point monitor point returns monitor closest point moved separate utility param search point find display coordinates param find point find display coordinates montor closest point monitor closest monitor display search point find closest integer monitor monitors search monitors monitor result monitors idx idx monitors length idx monitor current monitors idx rectangle client area current client area client area find current distance geometry distance squared geometry center point client area find distance closest closest distance result current result given desired position window method returns adjusted position window larger monitor extend edge monitor this computing initial window position subclasses utility method limit region window moved param preferred size preferred position window rectangle close preferred size extend monitor rectangle constrained shell bounds rectangle preferred size rectangle result rectangle preferred size preferred size preferred size width preferred size height monitor mon closest monitor shell display geometry center point result rectangle bounds mon client area result height bounds height result height bounds height result width bounds width result width bounds width result math max bounds math min result bounds bounds width result width result math max bounds math min result bounds bounds height result height result sets shell style bits this method shell created shell style bits framework method code create shell code creating window shell param shell style shell style bits set shell style shell style shell style shell style sets window manager window note method code window manager code maintain backpointer clients call method param manager window manager code null code set window manager window manager manager window manager manager code detect invalid usage manager null window windows manager windows windows length windows manager add sets exception handler application note handler set subsequent calls method param handler exception handler application set exception handler exception handler handler exception handler default exception handler exception handler handler sets parent modal windows this locate parent modal window constructed null parent param provider shell provider locate parent shell window created null parent set default modal parent shell provider provider modal parent provider gets orientation windows set unspecified default orientation orientation sets orientation windows param orientation set default orientation orientation orientation orientation
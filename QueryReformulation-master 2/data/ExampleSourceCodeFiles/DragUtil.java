/Users/user/eclipse.platform.ui/bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/dnd/DragUtil.java
org eclipse internal dnd java util array list java util iterator java util list org eclipse jface util geometry org eclipse swt org eclipse swt graphics point org eclipse swt graphics rectangle org eclipse swt widgets control org eclipse swt widgets display org eclipse swt widgets event org eclipse swt widgets listener org eclipse swt widgets shell org eclipse swt widgets tracker org eclipse platform org eclipse internal drag cursors provides methods attaching drag drop listeners controls drag util string org eclipse internal dnd drop target location drags null user input drag drop null user input determine objects dropped test drop location forced drop target null list drag over listener list targets array list sets drop target control add targets null control this target targets dragging objects application window param control control treated drag target null target param target drag target handle control add drag target control control drag over listener target control null targets add target list target list target list control target list null target list array list target list add target control set data target list return list drag over listener elements control global listener param control list target list control control list result list control data result removes drop target control param control param target remove drag target control control drag over listener target control null targets remove target list target list target list control target list null target list remove target target list empty control set data null shorthand method returns bounding rectangle control display coordinates note shell controls expected top level origin offset param dragged item param bounds control rectangle display bounds control bounds control control parent bounds control parent parent null bounds control shell bounds control bounds geometry display parent bounds control bounds perform drag object dragged item rectangle source bounds point initial location snapping drop target target drag target dragged item source bounds initial location snapping target null false target drop target handle finished notification send target null target drop target drop target target drag finished true true drags item location display coordinates this method intended test suites param dragged item object dragged param location location dragged true iff drop accepted drag display display object dragged item point location rectangle drag rectangle control current control swt util find control display location drop target target drop target current control dragged item location drag rectangle target null false target drop true forces drags position display coordinates intended test suites method called subsequent calls perform drag terminate behave object dragged location calling method null cancels behavior perform drag behave param forced location location objects dropped null drag drop behave force drop location test drop location forced location forced drop target forced location drags item initial bounding rectangle display coordinates due quirk tracker changing tracking rectangle keyboard mouse cursor move since snapping tracking rectangle change based position mouse cursor impossible drag drop keyboard snapping enabled param dragged item object dragged param source bounds initial bounding rectangle dragged item param initial location initial position mouse cursor param snapping true iff rectangle snap drop location this false user drag drop keyboard drop target drag target object dragged item rectangle source bounds point initial location snapping display display display current testing drop test target forced drop target null point location forced drop target location control current control swt util find control forced drop target shells location drop target current control dragged item location source bounds create tracker this rect screen moves notify drag listeners tracker tracker tracker display tracker set stippled true tracker add listener move listener override handle event event event display sync exec runnable override get curslor location point point location point event event select drop target global drop target target null control target control display cursor control get drop target location target drop target target control dragged item location tracker rectangles set tracker feedback based target rectangle snap target null target null snap target target snap rectangle tracker set cursor target cursor tracker set cursor drag cursors cursor drag cursors snapping reset tracker rectangle based current drop target snapping snap target null snap target rectangle source bounds location initial location source bounds location initial location source bounds width source bounds height try prevent flicker don change rectangles location rectangle current rectangles tracker rectangles current rectangles length current rectangles equals snap target tracker set rectangles rectangle geometry copy snap target setup drag starts valid target check global target skip check drop target target null control start control display cursor control start control null snapping target drop target start control dragged item initial location source bounds set initial tracker rectangle rectangle start rect source bounds target null rectangle rect target snap rectangle rect null start rect rect tracker set cursor target cursor start rect null tracker set rectangles rectangle geometry copy start rect tracking loop tracking preformed move listener registered tracker some control capture mouse drag controls interfere cursor shell shell platform workbench active workbench window shell shell null shell set capture true run tracker mouse occurs escape key pressed tracking tracker open release mouse shell null shell set capture false done tracking get current drop target drop target drop target null point location display cursor location control target control display cursor control drop target drop target target control dragged item location tracker rectangles cleanup tracker dispose callback tracking drop target drop target null drop target drop target target handle finished notification send drop target drop target drag finished false null given list drag over listeners description dragged returns drop target current drop param search param specific control param dragged object param position param drag rectangle drop target drop target list search control specific control object dragged object point position rectangle drag rectangle search null null iterator iter search iterator iter next drag over listener drag over listener iter drop target drop target drag specific control dragged object position drag rectangle drop target null drop target null returns drag target control null param search param drop target drop target control search object dragged object point position rectangle drag rectangle search listener walking control parent hierarchy control current search current null current current parent drop target drop target drop target target list current search dragged object position drag rectangle drop target null drop target don parent shells drop targets current shell controls handle event check targets drop target targets search dragged object position drag rectangle returns location event display coordinates point event loc event event control ctrl control event widget ctrl display point event event
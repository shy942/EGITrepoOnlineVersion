/Users/user/eclipse.platform.ui/bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/ShellPool.java
org eclipse internal java util iterator java util linked list org eclipse swt events dispose event org eclipse swt events dispose listener org eclipse swt events shell adapter org eclipse swt events shell event org eclipse swt events shell listener org eclipse swt widgets control org eclipse swt widgets shell manages pool shells this creating destroying shells reusing shells disposed pool this situations client code cached pointers shells parent dialogs works bug menus reparented shell pool flags parent shell null shell parent shell linked list shells linked list string close listener disposed false dispose listener dispose listener dispose listener override widget disposed dispose event workbench plugin log runtime exception widget disposed early shell listener close listener shell adapter override shell closed shell event disposed doit shell shell widget shell listener shell listener data null set data null shell closed doit false doit control children children children length control control children control dispose shells add set visible false restore listener set data doit false creates shell pool allocates shells children parent created flags param parent shell parent shell null indicating pool creates top level shells param child flags flags child shells shell pool shell parent shell child flags parent shell parent shell flags child flags returns shell shell disposed closed once shell closed returned shell pool note callers remove listeners shell closing shell allocate shell shell listener close listener shell result shells empty result shell shells remove first result shell parent shell flags result add shell listener close listener result add dispose listener dispose listener result set data close listener result disposes pool any unused shells pool disposed shells disposed closed dispose iterator iter shells iterator iter next shell shell iter remove dispose listener dispose listener dispose shells clear disposed true
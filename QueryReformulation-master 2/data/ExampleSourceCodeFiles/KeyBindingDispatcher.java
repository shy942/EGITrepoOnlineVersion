/Users/user/eclipse.platform.ui/bundles/org.eclipse.e4.ui.bindings/src/org/eclipse/e4/ui/bindings/keys/KeyBindingDispatcher.java
org eclipse bindings java util array list java util collection java util iterator java util list javax inject inject org eclipse core commands command org eclipse core commands execution exception org eclipse core commands handler org eclipse core commands parameterized command org eclipse core commands common command exception org eclipse core commands handler service org eclipse core commands internal handler service impl org eclipse core contexts eclipse context factory org eclipse core contexts eclipse context org eclipse core annotations optional org eclipse core services log logger org eclipse bindings binding service org eclipse bindings internal key assist dialog org eclipse jface bindings binding org eclipse jface bindings key sequence org eclipse jface bindings key stroke org eclipse jface bindings parse exception org eclipse jface bindings key support org eclipse swt org eclipse swt browser browser org eclipse swt custom combo org eclipse swt custom styled text org eclipse swt widgets combo org eclipse swt widgets display org eclipse swt widgets event org eclipse swt widgets listener org eclipse swt widgets shell org eclipse swt widgets text org eclipse swt widgets widget controls keyboard input workbench key binding architecture this key events programmatically pushed key binding architecture triggering execution commands code workbench code listen events code display code key binding dispatcher key assist dialog key assist dialog null display filter handling key bindings this filter enabled disabled disabled filter process incoming events filter starts enabled key down filter listener whether filter enabled enabled true handles incoming traverse key event param event event process code null code override handle event event event enabled filter key sequence bindings event returns key binding filter enabled whether key filter enabled enabled enabled sets filter enabled disabled param enabled whether key binding filter enabled set enabled enabled enabled enabled collection processed order key sequence order keys order keys key sequence instance parse exception order keys key sequence instance generates key strokes matches event key stroke matching key stroke param event event key strokes generated code null code set matching key strokes code null code empty list key stroke generate possible key strokes event event list key stroke key strokes array list key stroke keyboard event key strokes this happen listening focus traversal events event mask event key code event character key strokes add unique key stroke list consideration accelerator key support convert event unmodified accelerator event key strokes add key support convert accelerator key stroke accelerator shouldn delete undergo shift resolution event character key strokes accelerator key support convert event unshifted modified accelerator event accelerator accelerator key strokes add key support convert accelerator key stroke accelerator accelerator key support convert event modified accelerator event accelerator accelerator accelerator accelerator key strokes add key support convert accelerator key stroke accelerator key strokes determines event represents key press handled order event order key press passed focus control only focus control fails respond regular key bindings applied care choosing chosen order this method designed test work unmodified escape key stroke param key strokes key stroke order code null code code true code key order key code false code out order key list key stroke key strokes compare key strokes order key stroke order key strokes order keys key strokes order key strokes length order key strokes length order key strokes length key strokes order key strokes true false time milliseconds wait pressing key displaying key assist dialog binding service binding service eclipse context context handler service handler service listener runs key events global key bindings key down filter key down filter key down filter single order listener workbench this listener attached widget time key events processing this technique behaviour happen out order listener order listener out order listener single order verify listener workbench this listener attached code styled text code time verify events processing this technique behaviour happen out order verify listener order verify listener out order verify listener order listener mode current key binding architecture multi stroke key bindings partially complete key binding key sequence key sequence instance start time inject optional logger logger performs actual execution command current handler command manager handler enabled actual execution execution failures logged when method completes key binding reset param parameterized command command executed code null code param trigger triggering event code null code code true code handler code false code command exception handler complete execution reason caller method decide log message display dialog ignore exception execute command parameterized command parameterized command event trigger command exception reset key binding close window clear status reset state false handler service handler service handler service command command parameterized command command eclipse context context eclipse context factory create context context set event trigger command defined command defined command enabled command handled false command enabled handler service execute parameterized command context object obj handler service impl handler context command obj null obj handler command handled handler obj handled command handled true handler service execute handler parameterized command context object command exception context handler service impl command exception command exception command handled false logger null command exception execution exception logger error throwable command exception now command executed opportunity remembered dialog safe delete key assist dialog null key assist dialog clear remembered state context dispose command defined command handled launches command matching typed key this filter incoming code key down code code traverse code event level display reaches widgets processing dialog key strokes natural key some key strokes defined property declared order this processed widget only widget listeners work process key bindings for cancel current widget action triggering key bindings param event incoming event code null code filter key sequence bindings event event only process key strokes natural trigger key bindings event key code allow special key order processing list key stroke key strokes generate possible key strokes event out order key key strokes widget widget event widget event character event mask widget text widget combo widget browser widget combo bug text widget relies listener work dispatching delete event this work restricted listeners however pressing delete key text widget key bindings this event dispatching expected work text widget widget styled text event type key down some people work verify listeners verify listeners work verify key detect work order verify listener active event time styled text widget add verify key listener order verify listener order verify listener set active event time order listener active event time widget add listener key down order listener order listener set active event time otherwise count key arriving eventually expecting order handling ctrl tab bad idea stick window traversal process key event key strokes event binding service binding service binding service null binding service binding service context binding service name binding service handler service handler service handler service null handler service handler service context handler service name handler service display display display current accessor filter processes key traverse events display global key traverse filter code null code key down filter key down filter key down filter determines key sequence perfect match command match command identifier returned param key sequence key sequence check match code null code perfectly matching command code null code command matches parameterized command perfect match key sequence key sequence binding perfect match binding service perfect match key sequence perfect match null null perfect match parameterized command changes key binding this incremental change checks guarantee sets code shell code displayed elapsed this shell user completions typed param sequence key sequence code null code increment state key sequence sequence sequence record starting time start time system current time millis start time start time display display display display timer exec runnable override system current time millis start time start time start time collection binding partial matches binding service partial matches sequence open key assist shell partial matches opens code key assist dialog code assist user completing multi stroke key binding this method lazily creates code key assist dialog code shares executions open key assist shell collection binding bindings key assist dialog null key assist dialog key assist dialog context key assist dialog shell null key assist dialog set parent shell display active shell key assist dialog open bindings determines key sequence partially matches active key bindings param key sequence key sequence check partial match code null code code true code partial match code false code partial match key sequence key sequence binding service partial match key sequence determines key sequence perfectly matches active key bindings param key sequence key sequence check perfect match code null code code true code perfect match code false code perfect match key sequence key sequence binding service perfect match key sequence param potential key strokes param event press list key stroke potential key strokes event event key sequence error sequence null collection binding error match null key sequence sequence before key stroke iterator key stroke iterator potential key strokes iterator iterator next key sequence sequence after key stroke key sequence instance sequence before key stroke iterator partial match sequence after key stroke increment state sequence after key stroke true perfect match sequence after key stroke parameterized command cmd perfect match sequence after key stroke execute command cmd event sequence before key stroke empty command exception true key assist dialog null key assist dialog shell null event key code event key code event key code event key code event key code event key code event key code don swallow keyboard navigation false collection binding matches binding service conflicts for sequence after key stroke matches null matches empty error sequence sequence after key stroke error match matches reset state true sequence before key stroke empty error sequence null open key assist shell error match sequence before key stroke empty actually performs processing key event interacting code command manager code work carried event stopped code event doit false code processing matching key strokes active code shell code reset occurs param key strokes set matching key strokes code null code param event event process code null code process key event list key stroke key strokes event event dispatch keyboard shortcut eat key false key strokes empty eat key press key strokes event eat key event type key down event doit false traverse event detail event doit true event type reset state reset state true reset state clear remembered state start time long key sequence instance close multi key assist shell key assist dialog null clear remembered state key assist dialog clear remembered state key sequence buffer inject set context eclipse context context context context closes multi stroke key binding assistant shell exists isn disposed close multi key assist shell key assist dialog null shell shell key assist dialog shell shell null shell disposed shell visible key assist dialog close true